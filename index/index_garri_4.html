<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korean Words Practice</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        /* ===== ОБЩИЕ СТИЛИ ===== */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');

* {
    font-family: "Montserrat", serif;
    font-size: auto;
    font-style: normal;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    max-height: 100vh;
    max-width: 100%;
    background-image: url('/image/фон1.png');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow-x: hidden;
}

#background-letters {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
}

.korean-letter {
    position: absolute;
    font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
    font-size: 40px;
    font-weight: bold;
    opacity: 0;
    animation: letterFloat 8s ease-in-out infinite;
    color: transparent;
    background: linear-gradient(45deg, #78909C, #546E7A, #90A4AE);
    background-clip: text;
    -webkit-background-clip: text;
    user-select: none;
}

@keyframes letterFloat {
    0% {
        opacity: 0;
        transform: scale(0.1) translate(0, 0) rotate(0deg);
    }
    10% {
        opacity: 0.7;
        transform: scale(1) translate(0, -100px) rotate(5deg);
    }
    80% {
        opacity: 0.7;
        transform: scale(1) translate(0, -300px) rotate(5deg);
    }
    100% {
        opacity: 0;
        transform: scale(1) translate(0, -400px) rotate(5deg);
    }
}

/* ===== HEADER ===== */
header {
    background-color: #c8ba8d;
    position: relative;
    z-index: 100;
    width: 100%;
    margin: 0;
    padding: 0;
}

header .container {
    width: 100%;
    max-width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #c8ba8d;
    padding: 20px 110px;
    margin: 0;
}

.logo {
    width: 54px;
    height: 54px;
    filter: brightness(0) invert(1);
    transition: transform 0.3s;
}

.logo:hover {
    transform: scale(1.5);
}

.lk {
    width: 54px;
    height: 54px;
    filter: brightness(0) invert(1);
    transition: transform 0.3s;
}

.lk:hover {
    transform: scale(1.5);
}

/* Бургер-меню */
.burger-menu {
    display: flex;
    flex-direction: column;
    cursor: pointer;
    gap: 5px;
    z-index: 1000;
}

.burger-menu div {
    width: 25px;
    height: 3px;
    background-color: #000;
}

.nav-burger {
    position: fixed;
    top: 0;
    left: -100%;
    width: 250px;
    height: 100vh;
    background-color: rgba(200, 186, 141, 0.95);
    transition: left 0.3s ease;
    z-index: 999;
    padding-top: 80px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.nav-burger.active {
    left: 0;
}

.nav-burger .ul-header {
    list-style: none;
    padding: 20px;
    margin: 0;
    flex-direction: column;
}

.nav-burger .li-header {
    margin-bottom: 20px;
}

.nav-burger .a-header {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 18px;
    display: block;
}

.nav-burger .a-header:hover {
    color: rgb(4, 1, 48);
}

.nav-header {
    padding: 20px;
}

.ul-header {
    display: flex;
    list-style: none;
}

.li-header {
    display: flex;
    margin-right: 45px;
}

.a-header {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 18px;
}

.a-header:hover {
    color: rgb(4, 1, 48);
}

/* ===== MAIN CONTENT ===== */
main {
    display: flex;
    flex-direction: column;
    flex: 1;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 30px 20px;
    position: relative;
    z-index: 1;
}

.container {
    width: 100%;
    max-width: 1288px;
    margin: 0 auto;
    padding: 0 20px;
}

.start-sections-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    margin: 50px auto;
    max-width: 1200px;
    padding: 25px;
}

.start-section, .dictionary-card, .category-card {
    background-color: #f5f2e860;
    border: 1px solid #0f0520;
    border-radius: 50px;
    padding: 30px 25px;
    text-align: center;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
}

.start-section {
    flex: 1;
    min-width: min(90vw, 500px);
    max-width: min(90vw, 550px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 350px;
}

.start-section:hover, .dictionary-card:hover, .category-card:hover {
    transform: translateY(-15px) scale(1.03);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
}

.section-title, .dictionary-title, .category-title {
    font-size: 1.8em;
    margin-bottom: 15px;
    color: hsla(60, 33%, 99%, 0.814);
    font-weight: 700;
    position: relative;
    padding-bottom: 10px;
    font-family: 'Noto Sans KR', sans-serif;
}

.section-title::after, .dictionary-title::after, .category-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 25%;
    width: 50%;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.7), 
        transparent);
}

.section-description, .category-description {
    color: hsla(60, 33%, 99%, 0.814);
    margin-bottom: 25px;
    font-size: 1em;
    line-height: 1.5;
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.section-count, .dictionary-count, .category-count {
    font-size: 1.1em;
    color: hsla(60, 33%, 99%, 0.814);
    font-weight: 600;
    background-color: rgba(255, 255, 255, 0.2);
    padding: 10px 25px;
    border-radius: 25px;
    margin-top: 10px;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.dictionaries-container, .categories-container {
    display: none;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    margin: 40px auto;
    max-width: 1400px;
    padding: 20px;
}

.dictionaries-container.active, .categories-container.active {
    display: flex;
}

.dictionary-card, .category-card {
    flex: 1 0 auto;
    min-width: min(90vw, 280px);
    max-width: min(90vw, 320px);
    aspect-ratio: 16/10;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.back-btn, .nav-btn {
    background: linear-gradient(
        360deg, 
        rgba(55, 58, 70, 0.8), 
        rgb(122, 134, 113),  
        rgba(111, 115, 104, 0.43), 
        rgb(122, 134, 113), 
        rgba(37, 73, 52, 0.8), 
        rgba(55, 58, 70, 0.8)
    );
    color: rgb(49, 36, 105);
    border: 2px solid #0f0520;
    cursor: pointer;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.back-btn {
    padding: 14px 35px;
    border-radius: 15px;
    font-size: 1.1em;
    display: inline-flex;
    align-items: center;
    gap: 12px;
}

.back-btn:hover {
    transform: scale(1.08);
    color: rgb(4, 1, 48);
}

.back-btn img {
    width: 22px;
    height: 22px;
    filter: brightness(0) invert(0.3);
}

.back-to-sections, .back-to-dictionaries, .back-to-categories {
    display: none;
    justify-content: center;
    margin: 20px auto 40px;
    max-width: 1200px;
    padding: 0 20px;
    width: 100%;
}

.back-to-sections.active, .back-to-dictionaries.active, .back-to-categories.active {
    display: flex;
}

/* ===== FLASHCARD SECTION ===== */
.flashcard-section {
    display: none;
    width: 100%;
    animation: fadeIn 0.5s ease-out;
    position: relative;
    min-height: calc(100vh - 200px);
    flex: 1;
}

.flashcard-section.active {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
    width: 100%;
}

.flashcard-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 70vh;
    perspective: 1000px;
    margin: 0 auto 40px;
    max-width: 100%;
    padding: 20px;
    width: 100%;
}

.flashcard {
    width: 500px;
    height: 350px;
    background-color: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    position: relative;
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    box-sizing: border-box;
    border: 2px solid #0f0520;
}

.flashcard.flipped {
    transform: rotateY(180deg);
}

.card-front,
.card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    box-sizing: border-box;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.card-front {
    background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
    border: 2px solid #0f0520;
}

.card-back {
    background: linear-gradient(135deg, #2d3e50 0%, #3a5169 100%);
    color: white;
    transform: rotateY(180deg);
    border: 2px solid #0f0520;
}

.card-front .word-display {
    font-size: 72px;
    font-weight: 900;
    text-align: center;
    line-height: 1.2;
    margin: 0;
    word-break: keep-all;
    font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', 'Nanum Gothic', sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: #2c3e50;
    padding: 20px;
    max-width: 100%;
    overflow-wrap: break-word;
    hyphens: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.card-back .word-display {
    font-size: 54px;
    font-weight: 700;
    text-align: center;
    line-height: 1.3;
    margin: 0;
    word-break: break-word;
    font-family: 'Arial', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: white;
    padding: 25px;
    max-width: 100%;
    overflow-wrap: break-word;
    hyphens: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    word-spacing: normal;
    letter-spacing: normal;
}

.audio-icon {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.8);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    z-index: 10;
}

.audio-icon:hover {
    transform: scale(1.1);
    background-color: #e8f5f2;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.audio-icon img {
    width: 22px;
    height: 22px;
}

.card-back .audio-icon {
    display: none !important;
}

.progress-indicator {
    position: absolute;
    bottom: 20px;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 18px;
    color: #666;
    font-weight: 500;
    padding: 0 10px;
}

.card-back .progress-indicator {
    color: rgba(255, 255, 255, 0.8);
}

.navigation-buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 100px;
    margin-top: 40px;
    flex-wrap: wrap;
}

.nav-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    background: linear-gradient(
        360deg, 
        rgba(55, 58, 70, 0.8), 
        rgb(122, 134, 113),  
        rgba(111, 115, 104, 0.43), 
        rgb(122, 134, 113), 
        rgba(37, 73, 52, 0.8), 
        rgba(55, 58, 70, 0.8)
    );
    border: 2px solid #0f0520;
}

.nav-btn:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.nav-btn img {
    width: 30px;
    height: 30px;
    filter: brightness(0) invert(0.3);
    position: relative;
    z-index: 1;
}

/* ===== FOOTER ===== */
footer {
    background-color: #c8ba8d;
    padding: 30px 0;
    margin-top: auto;
    width: 100%;
    margin: 0;
}

footer .container {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
    padding: 0 20px;
}

address {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    flex-wrap: wrap;
}

.footer1 {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.mail, .tel {
    display: flex;
    align-items: center;
    font-size: 14px;
    gap: 5px;
    color: hsla(47, 18%, 20%, 0.814);
}

.tel img {
    width: 12px;
    height: 12px;
}

.footer-icon {
    display: flex;
    gap: 15px;
}

.footer-icon img {
    width: 30px;
    height: 30px;
}

.footer2 {
    display: flex;
    align-items: flex-start;
    text-align: left;
    margin-bottom: 20px;
}

.ul-footer {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
}

.li-footer {
    margin: 0;
}

.a-footer {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 12px;
    white-space: nowrap;
}

.a-footer:hover {
    color: rgb(4, 1, 48);
}

.copyright {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 5px;
    color: hsla(47, 18%, 20%, 0.814);
    font-size: 14px;
    width: 100%;
    margin-top: 20px;
}

#copyright {
    height: 18px;
    width: 18px;
}

.tel:hover p, .mail:hover p, .copyright:hover p {
    color: rgb(4, 1, 48);
    font-size: 1.1em;
    transition: all 0.3s ease;
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.word-display {
    animation: fadeIn 0.4s ease-out;
}

.perehod {
    display: flex;
    justify-content: space-between;
    padding: 0 20px;
    margin: 20px 0;
}

.perehod img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid rgb(49, 36, 105);
    transition: transform 0.3s;
}


.perehod>a:hover {
    transform: scale(1.5);
}

/* ===== АДАПТАЦИЯ ДЛЯ ВСЕХ УСТРОЙСТВ ===== */

/* Экраны 1440px и меньше */
@media (max-width: 1440px) {
    header .container,
    main,
    footer .container {
        max-width: 1200px;
    }
    
    .flashcard {
        width: 450px;
        height: 315px;
    }
    
    .card-front .word-display {
        font-size: 64px;
    }
    
    .card-back .word-display {
        font-size: 48px;
    }
    
    .start-section {
        min-width: min(90vw, 450px);
        max-width: min(90vw, 500px);
        height: 320px;
    }
    
    .navigation-buttons {
        gap: 80px;
    }
    
    header .container {
        padding: 20px 80px;
    }
}

/* Экраны 1280px и меньше */
@media (max-width: 1280px) {
    header .container,
    main,
    footer .container {
        max-width: 1100px;
    }
    
    .flashcard {
        width: 420px;
        height: 294px;
    }
    
    .card-front .word-display {
        font-size: 60px;
    }
    
    .card-back .word-display {
        font-size: 44px;
    }
    
    .start-section {
        min-width: min(90vw, 420px);
        max-width: min(90vw, 480px);
        height: 300px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.6em;
    }
    
    header .container {
        padding: 20px 60px;
    }
}

/* Экраны 1024px и меньше */
@media (max-width: 1024px) {
    header .container,
    main,
    footer .container {
        max-width: 900px;
    }
    
    .flashcard {
        width: 400px;
        height: 280px;
    }
    
    .card-front .word-display {
        font-size: 56px;
    }
    
    .card-back .word-display {
        font-size: 40px;
    }
    
    .start-section {
        min-width: min(90vw, 400px);
        max-width: min(90vw, 450px);
        height: 280px;
        padding: 25px 20px;
    }
    
    .dictionary-card, .category-card {
        min-width: min(90vw, 260px);
        max-width: min(90vw, 300px);
    }
    
    .navigation-buttons {
        gap: 70px;
    }
    
    header .container {
        padding: 15px 40px;
    }
}

/* Экраны 900px и меньше */
@media (max-width: 900px) {
    header .container,
    main,
    footer .container {
        max-width: 800px;
    }
    
    .flashcard {
        width: 380px;
        height: 266px;
    }
    
    .card-front .word-display {
        font-size: 52px;
    }
    
    .card-back .word-display {
        font-size: 38px;
    }
    
    .start-sections-container {
        flex-direction: column;
        align-items: center;
        gap: 25px;
        margin: 40px auto;
    }
    
    .start-section {
        min-width: 95%;
        max-width: 95%;
        height: 260px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.5em;
    }
    
    address {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 25px;
    }
    
    .footer1, .footer2 {
        align-items: center;
        text-align: center;
        width: 100%;
    }
    
    header .container {
        padding: 15px 30px;
    }
}

/* Экраны 768px и меньше */
@media (max-width: 768px) {
    header .container,
    main,
    footer .container {
        max-width: 700px;
    }
    
    .flashcard {
        width: 95vw;
        height: 60vh;
        max-width: 500px;
        max-height: 350px;
    }
    
    .card-front .word-display {
        font-size: 48px;
    }
    
    .card-back .word-display {
        font-size: 36px;
    }
    
    .start-section {
        height: 240px;
    }
    
    .dictionary-card, .category-card {
        min-width: 95%;
        max-width: 95%;
        aspect-ratio: 16/9;
    }
    
    .navigation-buttons {
        gap: 50px;
        margin-top: 30px;
    }
    
    .nav-btn {
        width: 55px;
        height: 55px;
    }
    
    .nav-btn img {
        width: 28px;
        height: 28px;
    }
    
    .back-btn {
        padding: 12px 30px;
        font-size: 1em;
    }
    
    .footer1, .footer2 {
        margin-bottom: 15px;
    }
    
    .ul-footer {
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }
    
    header .container {
        padding: 15px 20px;
    }
}

/* Экраны 640px и меньше */
@media (max-width: 640px) {
    header .container,
    main,
    footer .container {
        max-width: 600px;
    }
    
    .flashcard {
        height: 55vh;
    }
    
    .card-front .word-display {
        font-size: 44px;
    }
    
    .card-back .word-display {
        font-size: 32px;
    }
    
    .start-section {
        height: 220px;
        padding: 20px 15px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.4em;
    }
    
    .navigation-buttons {
        gap: 40px;
    }
    
    .nav-btn {
        width: 50px;
        height: 50px;
    }
    
    .nav-btn img {
        width: 25px;
        height: 25px;
    }
    
    .audio-icon {
        width: 36px;
        height: 36px;
        top: 15px;
        right: 15px;
    }
    
    .audio-icon img {
        width: 20px;
        height: 20px;
    }
    
    header .container {
        padding: 12px 15px;
    }
    
    .logo, .lk {
        width: 45px;
        height: 45px;
    }
}

/* Экраны 480px и меньше */
@media (max-width: 480px) {
    header .container,
    main,
    footer .container {
        max-width: 450px;
        padding: 10px 15px;
    }
    
    header .container {
        padding: 10px 15px;
    }
    
    .logo {
        width: 40px;
        height: 40px;
    }
    
    .lk {
        width: 40px;
        height: 40px;
    }
    
    .flashcard {
        height: 50vh;
        padding: 20px;
    }
    
    .card-front .word-display {
        font-size: 36px;
        padding: 15px;
    }
    
    .card-back .word-display {
        font-size: 28px;
        padding: 20px;
    }
    
    .card-front,
    .card-back {
        padding: 20px;
    }
    
    .start-section {
        height: 200px;
        padding: 15px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.3em;
    }
    
    .start-sections-container {
        margin: 30px auto;
        padding: 15px;
    }
    
    .navigation-buttons {
        gap: 30px;
    }
    
    .nav-btn {
        width: 45px;
        height: 45px;
    }
    
    .nav-btn img {
        width: 22px;
        height: 22px;
    }
    
    .back-btn {
        padding: 10px 25px;
        font-size: 0.95em;
    }
    
    .back-btn img {
        width: 20px;
        height: 20px;
    }
    
    .progress-indicator {
        font-size: 16px;
        bottom: 15px;
    }
    
    .mail, .tel {
        font-size: 13px;
    }
    
    .a-footer {
        font-size: 11px;
    }
    
    .copyright {
        font-size: 13px;
    }
    
    .footer-icon img {
        width: 28px;
        height: 28px;
    }
}

/* Экраны 375px и меньше (мобильные телефоны) */
@media (max-width: 375px) {
    header .container,
    main,
    footer .container {
        max-width: 350px;
        padding: 10px;
    }
    
    .flashcard {
        height: 45vh;
        padding: 15px;
        border-radius: 15px;
    }
    
    .card-front .word-display {
        font-size: 32px;
    }
    
    .card-back .word-display {
        font-size: 24px;
    }
    
    .card-front,
    .card-back {
        padding: 15px;
        border-radius: 13px;
    }
    
    .start-section {
        height: 180px;
        padding: 12px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.2em;
    }
    
    .dictionary-card, .category-card {
        padding: 20px 15px;
    }
    
    .navigation-buttons {
        gap: 25px;
    }
    
    .nav-btn {
        width: 40px;
        height: 40px;
    }
    
    .nav-btn img {
        width: 20px;
        height: 20px;
    }
    
    .back-btn {
        padding: 8px 20px;
        font-size: 0.9em;
    }
    
    .back-btn img {
        width: 18px;
        height: 18px;
    }
    
    .audio-icon {
        width: 32px;
        height: 32px;
        top: 10px;
        right: 10px;
    }
    
    .audio-icon img {
        width: 18px;
        height: 18px;
    }
    
    .nav-burger {
        width: 200px;
    }
    
    .nav-burger .a-header {
        font-size: 16px;
    }
    
    .burger-menu div {
        width: 22px;
        height: 2.5px;
    }
    
    .mail, .tel {
        font-size: 12px;
    }
    
    .a-footer {
        font-size: 10px;
    }
    
    .copyright {
        font-size: 12px;
    }
    
    .footer-icon img {
        width: 26px;
        height: 26px;
    }
    
    #copyright {
        width: 16px;
        height: 16px;
    }
}

/* Экраны 320px и меньше (маленькие мобильные телефоны) */
@media (max-width: 320px) {
    header .container,
    main,
    footer .container {
        max-width: 300px;
        padding: 8px;
    }
    
    .flashcard {
        height: 40vh;
        padding: 12px;
    }
    
    .card-front .word-display {
        font-size: 28px;
    }
    
    .card-back .word-display {
        font-size: 22px;
    }
    
    .start-section {
        height: 160px;
        padding: 10px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.1em;
    }
    
    .section-count, .dictionary-count, .category-count {
        font-size: 1em;
        padding: 8px 20px;
    }
    
    .navigation-buttons {
        gap: 20px;
        margin-top: 25px;
    }
    
    .nav-btn {
        width: 38px;
        height: 38px;
    }
    
    .nav-btn img {
        width: 18px;
        height: 18px;
    }
    
    .back-btn {
        padding: 7px 18px;
        font-size: 0.85em;
    }
    
    .mail, .tel {
        font-size: 11px;
    }
    
    .a-footer {
        font-size: 9px;
    }
    
    .copyright {
        font-size: 11px;
    }
    
    .footer-icon img {
        width: 24px;
        height: 24px;
    }
    
    .logo {
        width: 35px;
        height: 35px;
    }
    
    .lk {
        width: 35px;
        height: 35px;
    }
}
    </style>
</head>
<body>
    <div id="background-letters"></div>

    <header>
        <div class="container">
            <div class="burger-menu" id="burgerMenu">
                <div></div>
                <div></div>
                <div></div>
            </div>
          <img class="logo" src="/image/logo krug.svg" alt="Логотип">
            <a href="#" class="user">
                <img class="lk" src="/image/userrblur.svg" alt="Пользователь">
            </a>
        </div>
        <nav class="nav-burger" id="navBurger">
            <ul class="ul-header">
                <li class="li-header"><a href="" class="a-header">онлайн - переводчик</a></li>
                <li class="li-header"><a href="" class="a-header">контакты</a></li>
                <li class="li-header"><a href="" class="a-header">светлая тема</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="start-sections-container" id="startSectionsContainer">
            <div class="start-section" onclick="openDictionarySection(1)">
                <div class="section-title">часть 2</div>
                <div class="section-count">251 слово</div>
            </div>
            
            <!-- <div class="start-section" onclick="openDictionarySection(2)">
                <div class="section-title"></div>
                <div class="section-count">251 слово</div>
            </div> -->
        </div>

        <div class="categories-container" id="categoriesContainer">
            <!-- Категории будут добавлены через JavaScript -->
        </div>

        <div class="back-to-sections" id="backToSections">
            <button class="back-btn" onclick="backToStartSections()">
                <img src="/image/vlevo2.svg" alt="Назад">
                к словарям
            </button>
        </div>

        <section class="flashcard-section" id="flashcardSection">
            <div class="back-to-categories" id="backToCategories">
                <button class="back-btn" onclick="backToCategoriesList()">
                    <img src="/image/vlevo2.svg" alt="Назад">
                    к категориям
                </button>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="flashcard">
                    <div class="card-front">
                        <button class="audio-icon" onclick="playKoreanAudio(event)">
                            <img src="https://cdn-icons-png.flaticon.com/512/727/727245.png" alt="Озвучить">
                        </button>
                        <div class="word-display" id="korean-word">안녕하세요</div>
                        <div class="progress-indicator" id="progressIndicator"></div>
                    </div>

                    <div class="card-back">
                        <div class="word-display" id="russian-word">Здравствуйте</div>
                        <div class="progress-indicator" id="progressIndicatorBack"></div>
                    </div>
                </div>
            </div>

            <div class="navigation-buttons">
                <button class="nav-btn" onclick="previousWord()">
                    <img src="/image/vlevo2.svg" alt="Предыдущее слово">
                </button>
                <button class="nav-btn" onclick="nextWord()">
                    <img src="/image/vpravo2.svg" alt="Следующее слово">
                </button>
            </div>
        </section>
    </main>
 <div class="perehod">
        <a href="/index/index_slovo.html"><img src="/image/vlevo2.svg" alt=""></a>
        <a href="/index/index_slovo_garri_poter_.html"><img src="/image/vpravo2.svg" alt=""></a>
    </div>
    <footer>
        <div class="container">
            <address>
                <div class="footer1">
                    <div class="tel">
                        <img src="/image/tel_blue.svg" alt="">
                        <p>8-925-685-52-39</p>
                    </div>
                    <div class="mail">
                        <p>anastasiya3000@yandex.ru</p>
                    </div>
                    <div class="footer-icon">
                        <a href="" class="social-icon"><img src="/image/telegram_icon 1.svg" alt="Telegram"></a>
                        <a href="" class="social-icon"><img src="/image/skype_icon 1.svg" alt="Skype"></a>
                        <a href="" class="social-icon"><img src="/image/whatsapp_green.png" alt="WhatsApp"></a>
                        <a href="" class="social-icon"><img src="/image/license.svg" alt="License"></a>
                    </div>
                </div>

                <div class="footer2">
                    <nav class="nav1-footer">
                        <ul class="ul-footer">
                            <li class="li-footer"><a href="" class="a-footer"><b>Правила оплаты</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Договор оферты</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Согласие с рассылкой</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Пользовательское соглашение</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Политика конфиденциальности</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Положение о защите персональных данных</b></a></li>
                        </ul>
                    </nav>
                </div>
            </address>
            
            <div class="copyright">
                <img id="copyright" src="/image/Copyright2 _ blue.svg" alt="copyright">
                <p>takiza, 2025</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Массив с корейскими буквами для фона
const koreanLetters = [
    '가', '나', '다', '라', '마', '바', '사', '아', '자', '차',
    '카', '타', '파', '하', '거', '너', '더', '러', '머', '버',
    '서', '어', '저', '처', '커', '터', '퍼', '허', '고', '노',
    '도', '로', '모', '보', '소', '오', '조', '초', '코', '토'
];


  const dictionary1Categories = [
    {
        "id": 1,
        "title": "основные глаголы движения",
        "count": 25,
        "words": [
            { "korean": "가다", "translation": "идти, ехать" },
            { "korean": "오다", "translation": "приходить, приезжать" },
            { "korean": "나가다", "translation": "выходить (наружу)" },
            { "korean": "나오다", "translation": "выходить, появляться" },
            { "korean": "들어오다", "translation": "входить, заходить" },
            { "korean": "올라가다", "translation": "подниматься" },
            { "korean": "내리다", "translation": "выходить (из транспорта), спускаться" },
            { "korean": "다니다", "translation": "ходить (куда-либо), посещать" },
            { "korean": "돌아다니다", "translation": "бродить, ходить (туда-сюда)" },
            { "korean": "뛰다", "translation": "бежать, прыгать" },
            { "korean": "걷다", "translation": "ходить (пешком)" },
            { "korean": "달리다", "translation": "бегать" },
            { "korean": "헤엄치다", "translation": "плыть" },
            { "korean": "수영하다", "translation": "плавать" },
            { "korean": "타다", "translation": "ехать, садиться (в транспорт)" },
            { "korean": "건너다", "translation": "переходить (дорогу)" },
            { "korean": "넘다", "translation": "переходить, превышать" },
            { "korean": "지나다", "translation": "проходить, проезжать" },
            { "korean": "따라가다", "translation": "следовать, идти (за кем-то)" },
            { "korean": "떠나다", "translation": "уезжать, покидать" },
            { "korean": "돌아오다", "translation": "возвращаться" },
            { "korean": "서다", "translation": "стоять" },
            { "korean": "앉다", "translation": "сидеть" },
            { "korean": "눕다", "translation": "лежать" },
            { "korean": "떨어지다", "translation": "падать" }
        ]
    },
    {
        "id": 2,
        "title": "бытовые действия и рутина",
        "count": 25,
        "words": [
            { "korean": "먹다", "translation": "есть" },
            { "korean": "마시다", "translation": "пить" },
            { "korean": "자다", "translation": "спать" },
            { "korean": "일어나다", "translation": "вставать (с постели)" },
            { "korean": "씻다", "translation": "мыться" },
            { "korean": "입다", "translation": "надевать (одежду)" },
            { "korean": "벗다", "translation": "снимать (одежду)" },
            { "korean": "신다", "translation": "надевать (обувь)" },
            { "korean": "빨래하다", "translation": "стирать (одежду)" },
            { "korean": "청소하다", "translation": "убирать (в доме)" },
            { "korean": "요리하다", "translation": "готовить (еду)" },
            { "korean": "굽다", "translation": "жарить, печь" },
            { "korean": "감다", "translation": "мыть (волосы)" },
            { "korean": "양치하다", "translation": "чистить (зубы)" },
            { "korean": "쉬다", "translation": "отдыхать" },
            { "korean": "깨다", "translation": "просыпаться" },
            { "korean": "졸다", "translation": "дремать" },
            { "korean": "주무시다", "translation": "спать (уважительно)" },
            { "korean": "깨우다", "translation": "будить" },
            { "korean": "덮다", "translation": "накрывать, покрывать" },
            { "korean": "말리다", "translation": "сушить" },
            { "korean": "개다", "translation": "складывать (одежду)" },
            { "korean": "정리하다", "translation": "приводить (в порядок)" },
            { "korean": "놀다", "translation": "играть, отдыхать" },
            { "korean": "쉬다", "translation": "дышать, отдыхать" }
        ]
    },
    {
        "id": 3,
        "title": "умственная деятельность и общение",
        "count": 30,
        "words": [
            { "korean": "생각하다", "translation": "думать" },
            { "korean": "기억하다", "translation": "помнить" },
            { "korean": "기록하다", "translation": "записывать (информацию)" },
            { "korean": "알다", "translation": "знать" },
            { "korean": "모르다", "translation": "не знать" },
            { "korean": "배우다", "translation": "учить (что-либо)" },
            { "korean": "가르치다", "translation": "учить, обучать (кого-либо)" },
            { "korean": "공부하다", "translation": "учиться" },
            { "korean": "읽다", "translation": "читать" },
            { "korean": "쓰다", "translation": "писать" },
            { "korean": "말하다", "translation": "говорить" },
            { "korean": "묻다", "translation": "спрашивать" },
            { "korean": "물어보다", "translation": "спрашивать" },
            { "korean": "대답하다", "translation": "отвечать" },
            { "korean": "이야기하다", "translation": "разговаривать, беседовать" },
            { "korean": "설명하다", "translation": "объяснять" },
            { "korean": "알아보다", "translation": "узнавать, выяснять" },
            { "korean": "계획하다", "translation": "планировать" },
            { "korean": "결정하다", "translation": "решать (принимать решение)" },
            { "korean": "정하다", "translation": "назначать, определять" },
            { "korean": "선택하다", "translation": "выбирать" },
            { "korean": "고르다", "translation": "выбирать" },
            { "korean": "골라내다", "translation": "выбирать, отбирать" },
            { "korean": "비교하다", "translation": "сравнивать" },
            { "korean": "비하다", "translation": "сравнивать" },
            { "korean": "분석하다", "translation": "анализировать" },
            { "korean": "이해하다", "translation": "понимать" },
            { "korean": "깨닫다", "translation": "осознавать" },
            { "korean": "상상하다", "translation": "воображать" },
            { "korean": "집중하다", "translation": "концентрироваться" }
        ]
    },
    {
        "id": 4,
        "title": "социальные взаимодействия",
        "count": 30,
        "words": [
            { "korean": "만나다", "translation": "встречать (кого-либо)" },
            { "korean": "인사하다", "translation": "здороваться" },
            { "korean": "소개하다", "translation": "представлять, знакомить" },
            { "korean": "도와주다", "translation": "помогать" },
            { "korean": "돕다", "translation": "помогать" },
            { "korean": "협력하다", "translation": "сотрудничать" },
            { "korean": "약속하다", "translation": "обещать" },
            { "korean": "초대하다", "translation": "приглашать" },
            { "korean": "방문하다", "translation": "посещать (кого-либо)" },
            { "korean": "초대받다", "translation": "быть приглашенным" },
            { "korean": "대접하다", "translation": "угощать" },
            { "korean": "함께하다", "translation": "делать (вместе)" },
            { "korean": "나누다", "translation": "делить, делиться" },
            { "korean": "주다", "translation": "давать" },
            { "korean": "받다", "translation": "получать" },
            { "korean": "선물하다", "translation": "дарить" },
            { "korean": "사다", "translation": "покупать" },
            { "korean": "팔다", "translation": "продавать" },
            { "korean": "거래하다", "translation": "торговать" },
            { "korean": "지불하다", "translation": "оплачивать" },
            { "korean": "빌리다", "translation": "занимать, брать (взаймы)" },
            { "korean": "갚다", "translation": "возвращать (долг)" },
            { "korean": "부탁하다", "translation": "просить" },
            { "korean": "청하다", "translation": "просить" },
            { "korean": "요청하다", "translation": "запрашивать" },
            { "korean": "허락하다", "translation": "разрешать" },
            { "korean": "거절하다", "translation": "отказывать" },
            { "korean": "사과하다", "translation": "извиняться" },
            { "korean": "감사하다", "translation": "благодарить" },
            { "korean": "축하하다", "translation": "поздравлять" }
        ]
    },
    {
        "id": 5,
        "title": "работа и профессиональная деятельность",
        "count": 25,
        "words": [
            { "korean": "일하다", "translation": "работать" },
            { "korean": "근무하다", "translation": "служить, работать" },
            { "korean": "시작하다", "translation": "начинать" },
            { "korean": "끝내다", "translation": "заканчивать" },
            { "korean": "계속하다", "translation": "продолжать" },
            { "korean": "중단하다", "translation": "прерывать" },
            { "korean": "미루다", "translation": "откладывать (на потом)" },
            { "korean": "준비하다", "translation": "готовить (к чему-либо)" },
            { "korean": "검사하다", "translation": "проверять" },
            { "korean": "확인하다", "translation": "подтверждать, проверять" },
            { "korean": "수정하다", "translation": "исправлять" },
            { "korean": "개발하다", "translation": "разрабатывать" },
            { "korean": "생산하다", "translation": "производить" },
            { "korean": "만들다", "translation": "делать, создавать" },
            { "korean": "조립하다", "translation": "собирать (из деталей)" },
            { "korean": "분해하다", "translation": "разбирать (на детали)" },
            { "korean": "설치하다", "translation": "устанавливать" },
            { "korean": "제거하다", "translation": "удалять" },
            { "korean": "관리하다", "translation": "управлять" },
            { "korean": "지시하다", "translation": "указывать, приказывать" },
            { "korean": "보고하다", "translation": "докладывать" },
            { "korean": "회의하다", "translation": "проводить (собрание)" },
            { "korean": "협상하다", "translation": "вести (переговоры)" },
            { "korean": "계약하다", "translation": "заключать (контракт)" },
            { "korean": "퇴근하다", "translation": "уходить (с работы)" }
        ]
    },
    {
        "id": 6,
        "title": "чувства и эмоции",
        "count": 25,
        "words": [
            { "korean": "좋아하다", "translation": "любить, нравиться" },
            { "korean": "싫어하다", "translation": "не любить, ненавидеть" },
            { "korean": "사랑하다", "translation": "любить" },
            { "korean": "미워하다", "translation": "ненавидеть" },
            { "korean": "기뻐하다", "translation": "радоваться" },
            { "korean": "슬퍼하다", "translation": "грустить" },
            { "korean": "화내다", "translation": "сердиться" },
            { "korean": "두려워하다", "translation": "бояться" },
            { "korean": "걱정하다", "translation": "беспокоиться" },
            { "korean": "신나다", "translation": "волноваться (с положительным оттенком)" },
            { "korean": "긴장하다", "translation": "нервничать" },
            { "korean": "편안하다", "translation": "чувствовать себя (комфортно)" },
            { "korean": "불안하다", "translation": "чувствовать (тревогу)" },
            { "korean": "만족하다", "translation": "быть (удовлетворенным)" },
            { "korean": "실망하다", "translation": "разочаровываться" },
            { "korean": "놀라다", "translation": "удивляться" },
            { "korean": "부럽다", "translation": "завидовать" },
            { "korean": "외롭다", "translation": "чувствовать (одиночество)" },
            { "korean": "외로워하다", "translation": "чувствовать (одиночество)" },
            { "korean": "그리워하다", "translation": "скучать (по кому-то)" },
            { "korean": "피곤하다", "translation": "уставать" },
            { "korean": "지치다", "translation": "уставать, изнуряться" },
            { "korean": "행복하다", "translation": "быть (счастливым)" },
            { "korean": "불행하다", "translation": "быть (несчастным)" },
            { "korean": "감동하다", "translation": "быть (тронутым)" }
        ]
    },
    {
        "id": 7,
        "title": "здоровье и физическое состояние",
        "count": 25,
        "words": [
            { "korean": "아프다", "translation": "болеть" },
            { "korean": "낫다", "translation": "выздоравливать" },
            { "korean": "감기걸리다", "translation": "простужаться" },
            { "korean": "다치다", "translation": "получать (травму)" },
            { "korean": "상하다", "translation": "портиться (о здоровье, продуктах)" },
            { "korean": "출혈하다", "translation": "кровоточить" },
            { "korean": "부러지다", "translation": "ломаться (о костях)" },
            { "korean": "삐다", "translation": "растягивать (связки)" },
            { "korean": "부르다", "translation": "опухать" },
            { "korean": "가렵다", "translation": "чесаться" },
            { "korean": "따갑다", "translation": "печь, жечь" },
            { "korean": "저리다", "translation": "неметь (о конечностях)" },
            { "korean": "어지럽다", "translation": "кружиться (голова)" },
            { "korean": "메스껍다", "translation": "тошнить" },
            { "korean": "토하다", "translation": "блевать" },
            { "korean": "기침하다", "translation": "кашлять" },
            { "korean": "재채기하다", "translation": "чихать" },
            { "korean": "숨쉬다", "translation": "дышать" },
            { "korean": "땀흘리다", "translation": "потеть" },
            { "korean": "오한나다", "translation": "знобить" },
            { "korean": "열나다", "translation": "подниматься (температура)" },
            { "korean": "진찰받다", "translation": "проходить (осмотр у врача)" },
            { "korean": "치료받다", "translation": "получать (лечение)" },
            { "korean": "수술받다", "translation": "делать (операцию)" },
            { "korean": "회복하다", "translation": "восстанавливаться" }
        ]
    },
    {
        "id": 8,
        "title": "природа и окружающая среда",
        "count": 25,
        "words": [
            { "korean": "자라다", "translation": "расти" },
            { "korean": "피다", "translation": "цвести" },
            { "korean": "시들다", "translation": "вянуть" },
            { "korean": "떨어지다", "translation": "падать (о листьях)" },
            { "korean": "녹다", "translation": "таять" },
            { "korean": "얼다", "translation": "замерзать" },
            { "korean": "불다", "translation": "дуть (о ветре)" },
            { "korean": "비오다", "translation": "идти (дождь)" },
            { "korean": "눈오다", "translation": "идти (снег)" },
            { "korean": "개다", "translation": "проясняться (о погоде)" },
            { "korean": "흐리다", "translation": "быть (пасмурным)" },
            { "korean": "번개치다", "translation": "сверкать (молния)" },
            { "korean": "천둥치다", "translation": "греметь (гром)" },
            { "korean": "지다", "translation": "заходить (о солнце)" },
            { "korean": "뜨다", "translation": "всходить (о солнце)" },
            { "korean": "빛나다", "translation": "сиять" },
            { "korean": "반짝이다", "translation": "мерцать" },
            { "korean": "물들다", "translation": "окрашиваться" },
            { "korean": "새싹트다", "translation": "прорастать" },
            { "korean": "열매맺다", "translation": "плодоносить" },
            { "korean": "흔들리다", "translation": "качаться" },
            { "korean": "흐르다", "translation": "течь" },
            { "korean": "고이다", "translation": "скапливаться" },
            { "korean": "말라붙다", "translation": "высыхать" },
            { "korean": "무성하다", "translation": "буйно (расти)" }
        ]
    },
    {
        "id": 9,
        "title": "путешествия и транспорт",
        "count": 20,
        "words": [
            { "korean": "여행하다", "translation": "путешествовать" },
            { "korean": "산책하다", "translation": "гулять" },
            { "korean": "등산하다", "translation": "подниматься (в горы)" },
            { "korean": "캠핑하다", "translation": "разбивать (лагерь)" },
            { "korean": "수영하다", "translation": "плавать" },
            { "korean": "스키타다", "translation": "кататься (на лыжах)" },
            { "korean": "스케이트타다", "translation": "кататься (на коньках)" },
            { "korean": "자전거타다", "translation": "кататься (на велосипеде)" },
            { "korean": "운전하다", "translation": "водить (машину)" },
            { "korean": "탑승하다", "translation": "садиться (на борт)" },
            { "korean": "하차하다", "translation": "выходить (из транспорта)" },
            { "korean": "예약하다", "translation": "бронировать" },
            { "korean": "체크인하다", "translation": "регистрироваться (в отеле)" },
            { "korean": "체크아웃하다", "translation": "выписываться (из отеля)" },
            { "korean": "짐꾸리다", "translation": "собирать (багаж)" },
            { "korean": "출발하다", "translation": "отправляться" },
            { "korean": "도착하다", "translation": "прибывать" },
            { "korean": "연착하다", "translation": "задерживаться (о транспорте)" },
            { "korean": "환승하다", "translation": "пересаживаться" },
            { "korean": "길잃다", "translation": "заблудиться" }
        ]
    },
    {
        "id": 10,
        "title": "разное и дополнительные глаголы",
        "count": 21,
        "words": [
            { "korean": "가지다", "translation": "иметь" },
            { "korean": "되다", "translation": "становиться" },
            { "korean": "나다", "translation": "возникать, появляться" },
            { "korean": "쓰이다", "translation": "использоваться" },
            { "korean": "필요하다", "translation": "нуждаться" },
            { "korean": "가능하다", "translation": "быть (возможным)" },
            { "korean": "불가능하다", "translation": "быть (невозможным)" },
            { "korean": "필수적이다", "translation": "быть (обязательным)" },
            { "korean": "중요하다", "translation": "быть (важным)" },
            { "korean": "유용하다", "translation": "быть (полезным)" },
            { "korean": "무용하다", "translation": "быть (бесполезным)" },
            { "korean": "효과적이다", "translation": "быть (эффективным)" },
            { "korean": "인기있다", "translation": "быть (популярным)" },
            { "korean": "유명하다", "translation": "быть (известным)" },
            { "korean": "특별하다", "translation": "быть (особенным)" },
            { "korean": "평범하다", "translation": "быть (обычным)" },
            { "korean": "독특하다", "translation": "быть (уникальным)" },
            { "korean": "필요없다", "translation": "не (нуждаться)" },
            { "korean": "충분하다", "translation": "быть (достаточным)" },
            { "korean": "부족하다", "translation": "не (хватать)" },
            { "korean": "완벽하다", "translation": "быть (совершенным)" }
        ]
    }
];


// Глобальные переменные
let currentDictionaryType = 0; // 1 или 2
let currentCategoryIndex = 0;
let currentWordIndex = 0;
let speechSynthesisSupported = false;
let isFlipped = false;
let currentWords = [];

// Функция для создания анимированных букв на фоне
function createBackgroundLetters() {
    const container = document.getElementById('background-letters');
    if (!container) return;
    
    container.innerHTML = '';
    
    for (let i = 0; i < 25; i++) {
        const letter = document.createElement('div');
        letter.className = 'korean-letter';
        
        const randomLetter = koreanLetters[Math.floor(Math.random() * koreanLetters.length)];
        letter.textContent = randomLetter;
        
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        const delay = Math.random() * 15;
        
        letter.style.left = `${left}%`;
        letter.style.top = `${top}%`;
        letter.style.animationDelay = `${delay}s`;
        letter.style.fontSize = `${30 + Math.random() * 40}px`;
        letter.style.transform += ` rotate(${Math.random() * 20 - 10}deg)`;
        
        container.appendChild(letter);
    }
}

// Проверяем поддержку синтеза речи
function checkSpeechSupport() {
    if ('speechSynthesis' in window) {
        speechSynthesisSupported = true;
    } else {
        document.querySelectorAll('.audio-icon').forEach(icon => {
            if (icon) icon.style.display = 'none';
        });
    }
}

// Открытие словаря (1 или 2)
function openDictionarySection(dictionaryType) {
    currentDictionaryType = dictionaryType;
    
    // Скрываем стартовые секции
    const startContainer = document.getElementById('startSectionsContainer');
    const backToSections = document.getElementById('backToSections');
    const categoriesContainer = document.getElementById('categoriesContainer');
    
    if (!startContainer || !backToSections || !categoriesContainer) return;
    
    startContainer.style.display = 'none';
    backToSections.classList.add('active');
    
    // Показываем контейнер категорий
    categoriesContainer.classList.add('active');
    categoriesContainer.innerHTML = '';
    
    // Выбираем категории в зависимости от словаря
    const categories = dictionaryType === 1 ? dictionary1Categories : dictionary2Categories;
    
    // Рендерим категории
    categories.forEach((category, index) => {
        const card = document.createElement('div');
        card.className = 'category-card';
        card.innerHTML = `
            <div class="category-title">${category.title}</div>
            <div class="category-count">${category.count} слов</div>
        `;
        card.addEventListener('click', () => enterCategory(index));
        categoriesContainer.appendChild(card);
    });
}

// Вход в категорию
function enterCategory(categoryIndex) {
    currentCategoryIndex = categoryIndex;
    
    // Выбираем категории в зависимости от активного словаря
    const categories = currentDictionaryType === 1 ? dictionary1Categories : dictionary2Categories;
    
    if (categories[categoryIndex] && categories[categoryIndex].words) {
        currentWords = categories[categoryIndex].words;
        currentWordIndex = 0;
        
        // Скрываем контейнер категорий
        const categoriesContainer = document.getElementById('categoriesContainer');
        const flashcardSection = document.getElementById('flashcardSection');
        const backToCategories = document.getElementById('backToCategories');
        
        if (!categoriesContainer || !flashcardSection || !backToCategories) return;
        
        categoriesContainer.classList.remove('active');
        
        // Показываем флеш-карточки
        flashcardSection.classList.add('active');
        backToCategories.classList.add('active');
        
        updateWord();
    }
}

// Возврат к списку категорий
function backToCategoriesList() {
    const flashcardSection = document.getElementById('flashcardSection');
    const backToCategories = document.getElementById('backToCategories');
    const categoriesContainer = document.getElementById('categoriesContainer');
    
    if (!flashcardSection || !backToCategories || !categoriesContainer) return;
    
    flashcardSection.classList.remove('active');
    backToCategories.classList.remove('active');
    categoriesContainer.classList.add('active');
    
    // Сброс состояния карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Возврат к выбору словарей
function backToStartSections() {
    const categoriesContainer = document.getElementById('categoriesContainer');
    const backToSections = document.getElementById('backToSections');
    const startContainer = document.getElementById('startSectionsContainer');
    
    if (!categoriesContainer || !backToSections || !startContainer) return;
    
    categoriesContainer.classList.remove('active');
    backToSections.classList.remove('active');
    startContainer.style.display = 'flex';
    
    // Сброс состояния карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Обновление слова на карточке
function updateWord() {
    const koreanWordElement = document.getElementById("korean-word");
    const russianWordElement = document.getElementById("russian-word");
    const progressIndicators = document.querySelectorAll('.progress-indicator');
    
    if (!koreanWordElement || !russianWordElement) return;
    
    if (currentWords.length > 0 && currentWordIndex < currentWords.length) {
        const word = currentWords[currentWordIndex];
        
        // Корейское слово на передней стороне
        koreanWordElement.textContent = word.korean;
        
        // Русский перевод на обратной стороне
        russianWordElement.textContent = word.translation;

        // Прогресс
        const progressText = `${currentWordIndex + 1} / ${currentWords.length}`;
        progressIndicators.forEach(el => {
            el.textContent = progressText;
        });
    } else {
        koreanWordElement.textContent = "단어 없음";
        russianWordElement.textContent = "Нет слов";
        progressIndicators.forEach(el => {
            el.textContent = "0 / 0";
        });
    }

    // Сброс переворота карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Переход к следующему слову
function nextWord() {
    if (currentWords.length === 0) return;

    currentWordIndex = (currentWordIndex + 1) % currentWords.length;
    updateWord();
}

// Переход к предыдущему слову
function previousWord() {
    if (currentWords.length === 0) return;

    currentWordIndex = (currentWordIndex - 1 + currentWords.length) % currentWords.length;
    updateWord();
}

// Перелистывание карточки
function flipCard() {
    const flashcard = document.getElementById("flashcard");
    if (!flashcard) return;
    
    isFlipped = !isFlipped;
    flashcard.classList.toggle("flipped");
    
    // Скрываем/показываем аудио-иконку в зависимости от стороны
    const audioIcon = document.querySelector('.audio-icon');
    if (audioIcon) {
        if (isFlipped) {
            audioIcon.style.display = 'none';
        } else {
            audioIcon.style.display = 'flex';
        }
    }
}

// Функция для озвучивания корейского слова
function playKoreanAudio(event) {
    if (event && event.stopPropagation) {
        event.stopPropagation();
    }

    if (!speechSynthesisSupported || currentWords.length === 0) {
        return;
    }

    const word = currentWords[currentWordIndex];
    if (!word) return;

    const text = word.korean;

    if (text) {
        // Отменяем текущее воспроизведение
        speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'ko-KR';
        utterance.rate = 0.9;
        utterance.volume = 1.0;
        utterance.pitch = 1.0;

        // Получаем доступные голоса и выбираем корейский
        const voices = speechSynthesis.getVoices();
        const koreanVoice = voices.find(voice => 
            voice.lang === 'ko-KR' || 
            voice.lang.startsWith('ko') ||
            voice.name.includes('Korean')
        );
        
        if (koreanVoice) {
            utterance.voice = koreanVoice;
        }

        // Воспроизводим
        speechSynthesis.speak(utterance);
    }
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function () {
    createBackgroundLetters();
    checkSpeechSupport();
    
    if (speechSynthesisSupported) {
        speechSynthesis.onvoiceschanged = function() {
            // Голоса загружены
        };
    }
    
    // Бургер-меню
    const burgerMenu = document.getElementById("burgerMenu");
    const navBurger = document.getElementById("navBurger");
    
    if (burgerMenu && navBurger) {
        burgerMenu.addEventListener("click", function (event) {
            event.stopPropagation();
            navBurger.classList.toggle("active");
        });
        
        document.addEventListener("click", function (event) {
            if (!navBurger.contains(event.target) && !burgerMenu.contains(event.target)) {
                navBurger.classList.remove("active");
            }
        });
    }
    
    // Клик по карточке для перелистывания
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.addEventListener('click', (e) => {
            if (!e.target.closest('.audio-icon')) {
                flipCard();
            }
        });
    }
    
    // Обработка клавиатуры
    document.addEventListener('keydown', function (event) {
        switch (event.key) {
            case 'ArrowLeft':
                previousWord();
                break;
            case 'ArrowRight':
                nextWord();
                break;
            case ' ':
            case 'Spacebar':
                event.preventDefault();
                flipCard();
                break;
            case 'Enter':
                playKoreanAudio({ stopPropagation: () => { } });
                break;
            case 'Escape':
                const flashcardSection = document.getElementById('flashcardSection');
                if (flashcardSection && flashcardSection.classList.contains('active')) {
                    backToCategoriesList();
                }
                break;
        }
    });
});

// Обработчики свайпа для мобильных устройств
let touchStartX = 0;
let touchEndX = 0;
let touchStartY = 0;
let touchEndY = 0;

document.addEventListener('touchstart', (e) => {
    const flashcardSection = document.getElementById('flashcardSection');
    if (!flashcardSection || !flashcardSection.classList.contains('active')) return;
    
    touchStartX = e.changedTouches[0].screenX;
    touchStartY = e.changedTouches[0].screenY;
}, { passive: true });

document.addEventListener('touchend', (e) => {
    const flashcardSection = document.getElementById('flashcardSection');
    if (!flashcardSection || !flashcardSection.classList.contains('active')) return;
    
    touchEndX = e.changedTouches[0].screenX;
    touchEndY = e.changedTouches[0].screenY;
    handleSwipe();
}, { passive: true });

function handleSwipe() {
    const swipeThreshold = 50;
    const verticalSwipeThreshold = 30;

    if (Math.abs(touchEndY - touchStartY) < verticalSwipeThreshold) {
        if (touchEndX < touchStartX - swipeThreshold) {
            nextWord();
        } else if (touchEndX > touchStartX + swipeThreshold) {
            previousWord();
        }
    }
}

// Экспортируем функции в глобальную область видимости
window.openDictionarySection = openDictionarySection;
window.backToStartSections = backToStartSections;
window.backToCategoriesList = backToCategoriesList;
window.previousWord = previousWord;
window.nextWord = nextWord;
window.playKoreanAudio = playKoreanAudio;
    </script>
</body>
</html>

