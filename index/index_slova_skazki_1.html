<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korean Words Practice</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        /* ===== ОБЩИЕ СТИЛИ ===== */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');

* {
    font-family: "Montserrat", serif;
    font-size: auto;
    font-style: normal;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    max-height: 100vh;
    max-width: 100%;
    background-image: url('/image/фон 2.png');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow-x: hidden;
}

#background-letters {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
}

.korean-letter {
    position: absolute;
    font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
    font-size: 40px;
    font-weight: bold;
    opacity: 0;
    animation: letterFloat 8s ease-in-out infinite;
    color: transparent;
    background: linear-gradient(45deg, #78909C, #546E7A, #90A4AE);
    background-clip: text;
    -webkit-background-clip: text;
    user-select: none;
}

@keyframes letterFloat {
    0% {
        opacity: 0;
        transform: scale(0.1) translate(0, 0) rotate(0deg);
    }
    10% {
        opacity: 0.7;
        transform: scale(1) translate(0, -100px) rotate(5deg);
    }
    80% {
        opacity: 0.7;
        transform: scale(1) translate(0, -300px) rotate(5deg);
    }
    100% {
        opacity: 0;
        transform: scale(1) translate(0, -400px) rotate(5deg);
    }
}

/* ===== HEADER ===== */
header {
    background-color: #c8ba8d;
    position: relative;
    z-index: 100;
    width: 100%;
    margin: 0;
    padding: 0;
}

header .container {
    width: 100%;
    max-width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #c8ba8d;
    padding: 20px 110px;
    margin: 0;
}

.logo {
    width: 54px;
    height: 54px;
    filter: brightness(0) invert(1);
    transition: transform 0.3s;
}

.logo:hover {
    transform: scale(1.5);
}

.lk {
    width: 54px;
    height: 54px;
    filter: brightness(0) invert(1);
    transition: transform 0.3s;
}

.lk:hover {
    transform: scale(1.5);
}

/* Бургер-меню */
.burger-menu {
    display: flex;
    flex-direction: column;
    cursor: pointer;
    gap: 5px;
    z-index: 1000;
}

.burger-menu div {
    width: 25px;
    height: 3px;
    background-color: #000;
}

.nav-burger {
    position: fixed;
    top: 0;
    left: -100%;
    width: 250px;
    height: 100vh;
    background-color: rgba(200, 186, 141, 0.95);
    transition: left 0.3s ease;
    z-index: 999;
    padding-top: 80px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.nav-burger.active {
    left: 0;
}

.nav-burger .ul-header {
    list-style: none;
    padding: 20px;
    margin: 0;
    flex-direction: column;
}

.nav-burger .li-header {
    margin-bottom: 20px;
}

.nav-burger .a-header {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 18px;
    display: block;
}

.nav-burger .a-header:hover {
    color: rgb(4, 1, 48);
}

.nav-header {
    padding: 20px;
}

.ul-header {
    display: flex;
    list-style: none;
}

.li-header {
    display: flex;
    margin-right: 45px;
}

.a-header {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 18px;
}

.a-header:hover {
    color: rgb(4, 1, 48);
}

/* ===== MAIN CONTENT ===== */
main {
    display: flex;
    flex-direction: column;
    flex: 1;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 30px 20px;
    position: relative;
    z-index: 1;
}

.container {
    width: 100%;
    max-width: 1288px;
    margin: 0 auto;
    padding: 0 20px;
}

.start-sections-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    margin: 50px auto;
    max-width: 1200px;
    padding: 25px;
}

.start-section, .dictionary-card, .category-card {
    background-color: #f5f2e860;
    border: 1px solid #0f0520;
    border-radius: 50px;
    padding: 30px 25px;
    text-align: center;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
}

.start-section {
    flex: 1;
    min-width: min(90vw, 500px);
    max-width: min(90vw, 550px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 350px;
}

.start-section:hover, .dictionary-card:hover, .category-card:hover {
    transform: translateY(-15px) scale(1.03);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
}

.section-title, .dictionary-title, .category-title {
    font-size: 1.8em;
    margin-bottom: 15px;
    color: hsla(60, 33%, 99%, 0.814);
    font-weight: 700;
    position: relative;
    padding-bottom: 10px;
    font-family: 'Noto Sans KR', sans-serif;
}

.section-title::after, .dictionary-title::after, .category-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 25%;
    width: 50%;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.7), 
        transparent);
}

.section-description, .category-description {
    color: hsla(60, 33%, 99%, 0.814);
    margin-bottom: 25px;
    font-size: 1em;
    line-height: 1.5;
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.section-count, .dictionary-count, .category-count {
    font-size: 1.1em;
    color: hsla(60, 33%, 99%, 0.814);
    font-weight: 600;
    background-color: rgba(255, 255, 255, 0.2);
    padding: 10px 25px;
    border-radius: 25px;
    margin-top: 10px;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.dictionaries-container, .categories-container {
    display: none;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    margin: 40px auto;
    max-width: 1400px;
    padding: 20px;
}

.dictionaries-container.active, .categories-container.active {
    display: flex;
}

.dictionary-card, .category-card {
    flex: 1 0 auto;
    min-width: min(90vw, 280px);
    max-width: min(90vw, 320px);
    aspect-ratio: 16/10;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.back-btn, .nav-btn {
    background: linear-gradient(
        360deg, 
        rgba(55, 58, 70, 0.8), 
        rgb(122, 134, 113),  
        rgba(111, 115, 104, 0.43), 
        rgb(122, 134, 113), 
        rgba(37, 73, 52, 0.8), 
        rgba(55, 58, 70, 0.8)
    );
    color: rgb(49, 36, 105);
    border: 2px solid #0f0520;
    cursor: pointer;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.back-btn {
    padding: 14px 35px;
    border-radius: 15px;
    font-size: 1.1em;
    display: inline-flex;
    align-items: center;
    gap: 12px;
}

.back-btn:hover {
    transform: scale(1.08);
    color: rgb(4, 1, 48);
}

.back-btn img {
    width: 22px;
    height: 22px;
    filter: brightness(0) invert(0.3);
}

.back-to-sections, .back-to-dictionaries, .back-to-categories {
    display: none;
    justify-content: center;
    margin: 20px auto 40px;
    max-width: 1200px;
    padding: 0 20px;
    width: 100%;
}

.back-to-sections.active, .back-to-dictionaries.active, .back-to-categories.active {
    display: flex;
}

/* ===== FLASHCARD SECTION ===== */
.flashcard-section {
    display: none;
    width: 100%;
    animation: fadeIn 0.5s ease-out;
    position: relative;
    min-height: calc(100vh - 200px);
    flex: 1;
}

.flashcard-section.active {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
    width: 100%;
}

.flashcard-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 70vh;
    perspective: 1000px;
    margin: 0 auto 40px;
    max-width: 100%;
    padding: 20px;
    width: 100%;
}

.flashcard {
    width: 500px;
    height: 350px;
    background-color: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    position: relative;
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    box-sizing: border-box;
    border: 2px solid #0f0520;
}

.flashcard.flipped {
    transform: rotateY(180deg);
}

.card-front,
.card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    box-sizing: border-box;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.card-front {
    background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
    border: 2px solid #0f0520;
}

.card-back {
    background: linear-gradient(135deg, #2d3e50 0%, #3a5169 100%);
    color: white;
    transform: rotateY(180deg);
    border: 2px solid #0f0520;
}

.card-front .word-display {
    font-size: 72px;
    font-weight: 900;
    text-align: center;
    line-height: 1.2;
    margin: 0;
    word-break: keep-all;
    font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', 'Nanum Gothic', sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: #2c3e50;
    padding: 20px;
    max-width: 100%;
    overflow-wrap: break-word;
    hyphens: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.card-back .word-display {
    font-size: 54px;
    font-weight: 700;
    text-align: center;
    line-height: 1.3;
    margin: 0;
    word-break: break-word;
    font-family: 'Arial', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: white;
    padding: 25px;
    max-width: 100%;
    overflow-wrap: break-word;
    hyphens: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    word-spacing: normal;
    letter-spacing: normal;
}

.audio-icon {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.8);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    z-index: 10;
}

.audio-icon:hover {
    transform: scale(1.1);
    background-color: #e8f5f2;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.audio-icon img {
    width: 22px;
    height: 22px;
}

.card-back .audio-icon {
    display: none !important;
}

.progress-indicator {
    position: absolute;
    bottom: 20px;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 18px;
    color: #666;
    font-weight: 500;
    padding: 0 10px;
}

.card-back .progress-indicator {
    color: rgba(255, 255, 255, 0.8);
}

.navigation-buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 100px;
    margin-top: 40px;
    flex-wrap: wrap;
}

.nav-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    background: linear-gradient(
        360deg, 
        rgba(55, 58, 70, 0.8), 
        rgb(122, 134, 113),  
        rgba(111, 115, 104, 0.43), 
        rgb(122, 134, 113), 
        rgba(37, 73, 52, 0.8), 
        rgba(55, 58, 70, 0.8)
    );
    border: 2px solid #0f0520;
}

.nav-btn:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

.nav-btn img {
    width: 30px;
    height: 30px;
    filter: brightness(0) invert(0.3);
    position: relative;
    z-index: 1;
}

/* ===== FOOTER ===== */
footer {
    background-color: #c8ba8d;
    padding: 30px 0;
    margin-top: auto;
    width: 100%;
    margin: 0;
}

footer .container {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
    padding: 0 20px;
}

address {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    flex-wrap: wrap;
}

.footer1 {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.mail, .tel {
    display: flex;
    align-items: center;
    font-size: 14px;
    gap: 5px;
    color: hsla(47, 18%, 20%, 0.814);
}

.tel img {
    width: 12px;
    height: 12px;
}

.footer-icon {
    display: flex;
    gap: 15px;
}

.footer-icon img {
    width: 30px;
    height: 30px;
}

.footer2 {
    display: flex;
    align-items: flex-start;
    text-align: left;
    margin-bottom: 20px;
}

.ul-footer {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
}

.li-footer {
    margin: 0;
}

.a-footer {
    color: hsla(47, 18%, 20%, 0.814);
    text-decoration: none;
    font-size: 12px;
    white-space: nowrap;
}

.a-footer:hover {
    color: rgb(4, 1, 48);
}

.copyright {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 5px;
    color: hsla(47, 18%, 20%, 0.814);
    font-size: 14px;
    width: 100%;
    margin-top: 20px;
}

#copyright {
    height: 18px;
    width: 18px;
}

.tel:hover p, .mail:hover p, .copyright:hover p {
    color: rgb(4, 1, 48);
    font-size: 1.1em;
    transition: all 0.3s ease;
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.word-display {
    animation: fadeIn 0.4s ease-out;
}

.perehod {
    display: flex;
    justify-content: space-between;
    padding: 0 20px;
    margin: 20px 0;
}

.perehod img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid rgb(49, 36, 105);
    transition: transform 0.3s;
}


.perehod>a:hover {
    transform: scale(1.5);
}

/* ===== АДАПТАЦИЯ ДЛЯ ВСЕХ УСТРОЙСТВ ===== */

/* Экраны 1440px и меньше */
@media (max-width: 1440px) {
    header .container,
    main,
    footer .container {
        max-width: 1200px;
    }
    
    .flashcard {
        width: 450px;
        height: 315px;
    }
    
    .card-front .word-display {
        font-size: 64px;
    }
    
    .card-back .word-display {
        font-size: 48px;
    }
    
    .start-section {
        min-width: min(90vw, 450px);
        max-width: min(90vw, 500px);
        height: 320px;
    }
    
    .navigation-buttons {
        gap: 80px;
    }
    
    header .container {
        padding: 20px 80px;
    }
}

/* Экраны 1280px и меньше */
@media (max-width: 1280px) {
    header .container,
    main,
    footer .container {
        max-width: 1100px;
    }
    
    .flashcard {
        width: 420px;
        height: 294px;
    }
    
    .card-front .word-display {
        font-size: 60px;
    }
    
    .card-back .word-display {
        font-size: 44px;
    }
    
    .start-section {
        min-width: min(90vw, 420px);
        max-width: min(90vw, 480px);
        height: 300px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.6em;
    }
    
    header .container {
        padding: 20px 60px;
    }
}

/* Экраны 1024px и меньше */
@media (max-width: 1024px) {
    header .container,
    main,
    footer .container {
        max-width: 900px;
    }
    
    .flashcard {
        width: 400px;
        height: 280px;
    }
    
    .card-front .word-display {
        font-size: 56px;
    }
    
    .card-back .word-display {
        font-size: 40px;
    }
    
    .start-section {
        min-width: min(90vw, 400px);
        max-width: min(90vw, 450px);
        height: 280px;
        padding: 25px 20px;
    }
    
    .dictionary-card, .category-card {
        min-width: min(90vw, 260px);
        max-width: min(90vw, 300px);
    }
    
    .navigation-buttons {
        gap: 70px;
    }
    
    header .container {
        padding: 15px 40px;
    }
}

/* Экраны 900px и меньше */
@media (max-width: 900px) {
    header .container,
    main,
    footer .container {
        max-width: 800px;
    }
    
    .flashcard {
        width: 380px;
        height: 266px;
    }
    
    .card-front .word-display {
        font-size: 52px;
    }
    
    .card-back .word-display {
        font-size: 38px;
    }
    
    .start-sections-container {
        flex-direction: column;
        align-items: center;
        gap: 25px;
        margin: 40px auto;
    }
    
    .start-section {
        min-width: 95%;
        max-width: 95%;
        height: 260px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.5em;
    }
    
    address {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 25px;
    }
    
    .footer1, .footer2 {
        align-items: center;
        text-align: center;
        width: 100%;
    }
    
    header .container {
        padding: 15px 30px;
    }
}

/* Экраны 768px и меньше */
@media (max-width: 768px) {
    header .container,
    main,
    footer .container {
        max-width: 700px;
    }
    
    .flashcard {
        width: 95vw;
        height: 60vh;
        max-width: 500px;
        max-height: 350px;
    }
    
    .card-front .word-display {
        font-size: 48px;
    }
    
    .card-back .word-display {
        font-size: 36px;
    }
    
    .start-section {
        height: 240px;
    }
    
    .dictionary-card, .category-card {
        min-width: 95%;
        max-width: 95%;
        aspect-ratio: 16/9;
    }
    
    .navigation-buttons {
        gap: 50px;
        margin-top: 30px;
    }
    
    .nav-btn {
        width: 55px;
        height: 55px;
    }
    
    .nav-btn img {
        width: 28px;
        height: 28px;
    }
    
    .back-btn {
        padding: 12px 30px;
        font-size: 1em;
    }
    
    .footer1, .footer2 {
        margin-bottom: 15px;
    }
    
    .ul-footer {
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }
    
    header .container {
        padding: 15px 20px;
    }
}

/* Экраны 640px и меньше */
@media (max-width: 640px) {
    header .container,
    main,
    footer .container {
        max-width: 600px;
    }
    
    .flashcard {
        height: 55vh;
    }
    
    .card-front .word-display {
        font-size: 44px;
    }
    
    .card-back .word-display {
        font-size: 32px;
    }
    
    .start-section {
        height: 220px;
        padding: 20px 15px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.4em;
    }
    
    .navigation-buttons {
        gap: 40px;
    }
    
    .nav-btn {
        width: 50px;
        height: 50px;
    }
    
    .nav-btn img {
        width: 25px;
        height: 25px;
    }
    
    .audio-icon {
        width: 36px;
        height: 36px;
        top: 15px;
        right: 15px;
    }
    
    .audio-icon img {
        width: 20px;
        height: 20px;
    }
    
    header .container {
        padding: 12px 15px;
    }
    
    .logo, .lk {
        width: 45px;
        height: 45px;
    }
}

/* Экраны 480px и меньше */
@media (max-width: 480px) {
    header .container,
    main,
    footer .container {
        max-width: 450px;
        padding: 10px 15px;
    }
    
    header .container {
        padding: 10px 15px;
    }
    
    .logo {
        width: 40px;
        height: 40px;
    }
    
    .lk {
        width: 40px;
        height: 40px;
    }
    
    .flashcard {
        height: 50vh;
        padding: 20px;
    }
    
    .card-front .word-display {
        font-size: 36px;
        padding: 15px;
    }
    
    .card-back .word-display {
        font-size: 28px;
        padding: 20px;
    }
    
    .card-front,
    .card-back {
        padding: 20px;
    }
    
    .start-section {
        height: 200px;
        padding: 15px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.3em;
    }
    
    .start-sections-container {
        margin: 30px auto;
        padding: 15px;
    }
    
    .navigation-buttons {
        gap: 30px;
    }
    
    .nav-btn {
        width: 45px;
        height: 45px;
    }
    
    .nav-btn img {
        width: 22px;
        height: 22px;
    }
    
    .back-btn {
        padding: 10px 25px;
        font-size: 0.95em;
    }
    
    .back-btn img {
        width: 20px;
        height: 20px;
    }
    
    .progress-indicator {
        font-size: 16px;
        bottom: 15px;
    }
    
    .mail, .tel {
        font-size: 13px;
    }
    
    .a-footer {
        font-size: 11px;
    }
    
    .copyright {
        font-size: 13px;
    }
    
    .footer-icon img {
        width: 28px;
        height: 28px;
    }
}

/* Экраны 375px и меньше (мобильные телефоны) */
@media (max-width: 375px) {
    header .container,
    main,
    footer .container {
        max-width: 350px;
        padding: 10px;
    }
    
    .flashcard {
        height: 45vh;
        padding: 15px;
        border-radius: 15px;
    }
    
    .card-front .word-display {
        font-size: 32px;
    }
    
    .card-back .word-display {
        font-size: 24px;
    }
    
    .card-front,
    .card-back {
        padding: 15px;
        border-radius: 13px;
    }
    
    .start-section {
        height: 180px;
        padding: 12px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.2em;
    }
    
    .dictionary-card, .category-card {
        padding: 20px 15px;
    }
    
    .navigation-buttons {
        gap: 25px;
    }
    
    .nav-btn {
        width: 40px;
        height: 40px;
    }
    
    .nav-btn img {
        width: 20px;
        height: 20px;
    }
    
    .back-btn {
        padding: 8px 20px;
        font-size: 0.9em;
    }
    
    .back-btn img {
        width: 18px;
        height: 18px;
    }
    
    .audio-icon {
        width: 32px;
        height: 32px;
        top: 10px;
        right: 10px;
    }
    
    .audio-icon img {
        width: 18px;
        height: 18px;
    }
    
    .nav-burger {
        width: 200px;
    }
    
    .nav-burger .a-header {
        font-size: 16px;
    }
    
    .burger-menu div {
        width: 22px;
        height: 2.5px;
    }
    
    .mail, .tel {
        font-size: 12px;
    }
    
    .a-footer {
        font-size: 10px;
    }
    
    .copyright {
        font-size: 12px;
    }
    
    .footer-icon img {
        width: 26px;
        height: 26px;
    }
    
    #copyright {
        width: 16px;
        height: 16px;
    }
}

/* Экраны 320px и меньше (маленькие мобильные телефоны) */
@media (max-width: 320px) {
    header .container,
    main,
    footer .container {
        max-width: 300px;
        padding: 8px;
    }
    
    .flashcard {
        height: 40vh;
        padding: 12px;
    }
    
    .card-front .word-display {
        font-size: 28px;
    }
    
    .card-back .word-display {
        font-size: 22px;
    }
    
    .start-section {
        height: 160px;
        padding: 10px;
    }
    
    .section-title, .dictionary-title, .category-title {
        font-size: 1.1em;
    }
    
    .section-count, .dictionary-count, .category-count {
        font-size: 1em;
        padding: 8px 20px;
    }
    
    .navigation-buttons {
        gap: 20px;
        margin-top: 25px;
    }
    
    .nav-btn {
        width: 38px;
        height: 38px;
    }
    
    .nav-btn img {
        width: 18px;
        height: 18px;
    }
    
    .back-btn {
        padding: 7px 18px;
        font-size: 0.85em;
    }
    
    .mail, .tel {
        font-size: 11px;
    }
    
    .a-footer {
        font-size: 9px;
    }
    
    .copyright {
        font-size: 11px;
    }
    
    .footer-icon img {
        width: 24px;
        height: 24px;
    }
    
    .logo {
        width: 35px;
        height: 35px;
    }
    
    .lk {
        width: 35px;
        height: 35px;
    }
}
    </style>
</head>
<body>
    <div id="background-letters"></div>

    <header>
        <div class="container">
            <div class="burger-menu" id="burgerMenu">
                <div></div>
                <div></div>
                <div></div>
            </div>
          <img class="logo" src="/image/logo krug.svg" alt="Логотип">
            <a href="#" class="user">
                <img class="lk" src="/image/userrblur.svg" alt="Пользователь">
            </a>
        </div>
        <nav class="nav-burger" id="navBurger">
            <ul class="ul-header">
                <li class="li-header"><a href="" class="a-header">онлайн - переводчик</a></li>
                <li class="li-header"><a href="" class="a-header">контакты</a></li>
                <li class="li-header"><a href="" class="a-header">светлая тема</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="start-sections-container" id="startSectionsContainer">
            <div class="start-section" onclick="openDictionarySection(1)">
                <div class="section-title">Словарь 1</div>
                <div class="section-count">13 категорий • 269 слов</div>
            </div>
            
            <div class="start-section" onclick="openDictionarySection(2)">
                <div class="section-title">Словарь 2</div>
                <div class="section-count">15 категорий • 456 слов</div>
            </div>
        </div>

        <div class="categories-container" id="categoriesContainer">
            <!-- Категории будут добавлены через JavaScript -->
        </div>

        <div class="back-to-sections" id="backToSections">
            <button class="back-btn" onclick="backToStartSections()">
                <img src="/image/vlevo2.svg" alt="Назад">
                к словарям
            </button>
        </div>

        <section class="flashcard-section" id="flashcardSection">
            <div class="back-to-categories" id="backToCategories">
                <button class="back-btn" onclick="backToCategoriesList()">
                    <img src="/image/vlevo2.svg" alt="Назад">
                    к категориям
                </button>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="flashcard">
                    <div class="card-front">
                        <button class="audio-icon" onclick="playKoreanAudio(event)">
                            <img src="https://cdn-icons-png.flaticon.com/512/727/727245.png" alt="Озвучить">
                        </button>
                        <div class="word-display" id="korean-word">안녕하세요</div>
                        <div class="progress-indicator" id="progressIndicator"></div>
                    </div>

                    <div class="card-back">
                        <div class="word-display" id="russian-word">Здравствуйте</div>
                        <div class="progress-indicator" id="progressIndicatorBack"></div>
                    </div>
                </div>
            </div>

            <div class="navigation-buttons">
                <button class="nav-btn" onclick="previousWord()">
                    <img src="/image/vlevo2.svg" alt="Предыдущее слово">
                </button>
                <button class="nav-btn" onclick="nextWord()">
                    <img src="/image/vpravo2.svg" alt="Следующее слово">
                </button>
            </div>
        </section>
    </main>
 <div class="perehod">
        <a href="/index.html"><img src="/image/vlevo2.svg" alt=""></a>
        <a href="/index.html"><img src="/image/vpravo2.svg" alt=""></a>
    </div>
    <footer>
        <div class="container">
            <address>
                <div class="footer1">
                    <div class="tel">
                        <img src="/image/tel_blue.svg" alt="">
                        <p>8-925-685-52-39</p>
                    </div>
                    <div class="mail">
                        <p>anastasiya3000@yandex.ru</p>
                    </div>
                    <div class="footer-icon">
                        <a href="" class="social-icon"><img src="/image/telegram_icon 1.svg" alt="Telegram"></a>
                        <a href="" class="social-icon"><img src="/image/skype_icon 1.svg" alt="Skype"></a>
                        <a href="" class="social-icon"><img src="/image/whatsapp_green.png" alt="WhatsApp"></a>
                        <a href="" class="social-icon"><img src="/image/license.svg" alt="License"></a>
                    </div>
                </div>

                <div class="footer2">
                    <nav class="nav1-footer">
                        <ul class="ul-footer">
                            <li class="li-footer"><a href="" class="a-footer"><b>Правила оплаты</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Договор оферты</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Согласие с рассылкой</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Пользовательское соглашение</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Политика конфиденциальности</b></a></li>
                            <li class="li-footer"><a href="" class="a-footer"><b>Положение о защите персональных данных</b></a></li>
                        </ul>
                    </nav>
                </div>
            </address>
            
            <div class="copyright">
                <img id="copyright" src="/image/Copyright2 _ blue.svg" alt="copyright">
                <p>takiza, 2025</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Массив с корейскими буквами для фона
const koreanLetters = [
    '가', '나', '다', '라', '마', '바', '사', '아', '자', '차',
    '카', '타', '파', '하', '거', '너', '더', '러', '머', '버',
    '서', '어', '저', '처', '커', '터', '퍼', '허', '고', '노',
    '도', '로', '모', '보', '소', '오', '조', '초', '코', '토'
];


   const dictionary1Categories = [
    {
        "id": 1,
        "title": "глаголы движения и действия",
        "count": 25,
        "words": [
            { "korean": "가다", "translation": "идти, ехать" },
            { "korean": "걷다", "translation": "ходить (пешком)" },
            { "korean": "달리다", "translation": "бежать" },
            { "korean": "달려가다", "translation": "бежать (к чему-либо)" },
            { "korean": "뛰다", "translation": "прыгать; бежать" },
            { "korean": "뛰어다니다", "translation": "бегать туда-сюда" },
            { "korean": "나오다", "translation": "выходить" },
            { "korean": "내리다", "translation": "спускаться; идти (о дожде, снеге)" },
            { "korean": "다니다", "translation": "посещать, ходить (регулярно)" },
            { "korean": "도착하다", "translation": "прибывать" },
            { "korean": "돌아가다", "translation": "возвращаться" },
            { "korean": "떠나다", "translation": "уходить, уезжать" },
            { "korean": "떠오르다", "translation": "восходить (о солнце)" },
            { "korean": "떨어지다", "translation": "падать" },
            { "korean": "마시다", "translation": "пить" },
            { "korean": "먹다", "translation": "есть" },
            { "korean": "보다", "translation": "смотреть; видеть" },
            { "korean": "사라지다", "translation": "исчезать" },
            { "korean": "쓰다", "translation": "писать; использовать" },
            { "korean": "앉다", "translation": "сидеть" },
            { "korean": "일어나다", "translation": "вставать, происходить" },
            { "korean": "읽다", "translation": "читать" },
            { "korean": "자다", "translation": "спать" },
            { "korean": "줄다", "translation": "уменьшаться" },
            { "korean": "커지다", "translation": "увеличиваться" }
        ]
    },
    {
        "id": 2,
        "title": "глаголы общения и взаимодействия",
        "count": 20,
        "words": [
            { "korean": "말하다", "translation": "говорить" },
            { "korean": "대답하다", "translation": "отвечать" },
            { "korean": "물어보다", "translation": "спрашивать" },
            { "korean": "이야기하다", "translation": "разговаривать" },
            { "korean": "부르다", "translation": "звать; петь" },
            { "korean": "속삭이다", "translation": "шептать" },
            { "korean": "외치다", "translation": "кричать" },
            { "korean": "인사하다", "translation": "здороваться, прощаться" },
            { "korean": "도와주다", "translation": "помогать" },
            { "korean": "전하다", "translation": "передавать" },
            { "korean": "초대하다", "translation": "приглашать" },
            { "korean": "축하하다", "translation": "поздравлять" },
            { "korean": "환영하다", "translation": "приветствовать" },
            { "korean": "사귀다", "translation": "дружить, знакомиться" },
            { "korean": "맞이하다", "translation": "встречать, принимать (гостей)" },
            { "korean": "토론하다", "translation": "обсуждать" },
            { "korean": "회의하다", "translation": "проводить совещание" },
            { "korean": "합류하다", "translation": "присоединяться" },
            { "korean": "모이다", "translation": "собираться" },
            { "korean": "나누다", "translation": "делить(ся)" }
        ]
    },
    {
        "id": 3,
        "title": "глаголы чувств и эмоций",
        "count": 15,
        "words": [
            { "korean": "사랑하다", "translation": "любить" },
            { "korean": "좋아하다", "translation": "любить, нравиться" },
            { "korean": "기뻐하다", "translation": "радоваться" },
            { "korean": "슬프다", "translation": "быть грустным" },
            { "korean": "웃다", "translation": "смеяться" },
            { "korean": "미소짓다", "translation": "улыбаться" },
            { "korean": "행복하다", "translation": "быть счастливым" },
            { "korean": "신나다", "translation": "быть возбужденным, в восторге" },
            { "korean": "놀라다", "translation": "удивляться" },
            { "korean": "무섭다", "translation": "быть страшным" },
            { "korean": "감사하다", "translation": "быть благодарным" },
            { "korean": "고맙다", "translation": "быть благодарным" },
            { "korean": "그립다", "translation": "скучать (по чему-то утерянному)" },
            { "korean": "즐기다", "translation": "наслаждаться" },
            { "korean": "즐겁다", "translation": "быть приятным" }
        ]
    },
    {
        "id": 4,
        "title": "глаголы умственной деятельности",
        "count": 18,
        "words": [
            { "korean": "알다", "translation": "знать" },
            { "korean": "공부하다", "translation": "учиться" },
            { "korean": "가르치다", "translation": "учить" },
            { "korean": "배우다", "translation": "учиться" },
            { "korean": "기억하다", "translation": "помнить" },
            { "korean": "잊다", "translation": "забывать" },
            { "korean": "생각하다", "translation": "думать" },
            { "korean": "결심하다", "translation": "решать (принимать решение)" },
            { "korean": "이루다", "translation": "осуществлять, достигать" },
            { "korean": "이끌다", "translation": "вести, руководить" },
            { "korean": "상상하다", "translation": "воображать" },
            { "korean": "믿다", "translation": "верить" },
            { "korean": "기대하다", "translation": "ожидать" },
            { "korean": "바라다", "translation": "желать" },
            { "korean": "원하다", "translation": "хотеть" },
            { "korean": "계획하다", "translation": "планировать" },
            { "korean": "집중하다", "translation": "концентрироваться" },
            { "korean": "풀다", "translation": "решать (задачу); развязывать" }
        ]
    },
    {
        "id": 5,
        "title": "глаголы работы и деятельности",
        "count": 20,
        "words": [
            { "korean": "하다", "translation": "делать" },
            { "korean": "일하다", "translation": "работать" },
            { "korean": "만들다", "translation": "делать, создавать" },
            { "korean": "짓다", "translation": "строить" },
            { "korean": "가꾸다", "translation": "ухаживать (за растениями)" },
            { "korean": "키우다", "translation": "растить, выращивать" },
            { "korean": "수확하다", "translation": "собирать урожай" },
            { "korean": "장식하다", "translation": "украшать" },
            { "korean": "정리하다", "translation": "приводить в порядок" },
            { "korean": "청소하다", "translation": "убирать" },
            { "korean": "마무리하다", "translation": "завершать" },
            { "korean": "마치다", "translation": "заканчивать (что-либо)" },
            { "korean": "시작하다", "translation": "начинать" },
            { "korean": "연습하다", "translation": "тренироваться" },
            { "korean": "준비하다", "translation": "готовить" },
            { "korean": "발표하다", "translation": "объявлять" },
            { "korean": "점검하다", "translation": "проверять" },
            { "korean": "칭찬하다", "translation": "хвалить" },
            { "korean": "뽐내다", "translation": "хвастаться" },
            { "korean": "영감을 주다", "translation": "вдохновлять" }
        ]
    },
    {
        "id": 6,
        "title": "глаголы обладания и состояния",
        "count": 15,
        "words": [
            { "korean": "가지다", "translation": "иметь" },
            { "korean": "있다", "translation": "быть, находиться; иметь" },
            { "korean": "없다", "translation": "не иметь, отсутствовать" },
            { "korean": "받다", "translation": "получать" },
            { "korean": "얻다", "translation": "получать, приобретать" },
            { "korean": "주다", "translation": "давать" },
            { "korean": "빌다", "translation": "молиться; просить" },
            { "korean": "부족하다", "translation": "недоставать" },
            { "korean": "충분하다", "translation": "быть достаточным" },
            { "korean": "되다", "translation": "становиться" },
            { "korean": "예뻐지다", "translation": "становиться красивым" },
            { "korean": "존재하다", "translation": "существовать" },
            { "korean": "생기다", "translation": "появляться, возникать" },
            { "korean": "지내다", "translation": "жить, проводить время" },
            { "korean": "살다", "translation": "жить" }
        ]
    },
    {
        "id": 7,
        "title": "люди и отношения",
        "count": 20,
        "words": [
            { "korean": "사람", "translation": "человек" },
            { "korean": "가족", "translation": "семья" },
            { "korean": "부모님", "translation": "родители" },
            { "korean": "어머니", "translation": "мать" },
            { "korean": "아빠", "translation": "папа" },
            { "korean": "할아버지", "translation": "дедушка" },
            { "korean": "할머니", "translation": "бабушка" },
            { "korean": "형", "translation": "старший брат (для парня)" },
            { "korean": "오빠", "translation": "старший брат (для девушки)" },
            { "korean": "언니", "translation": "старшая сестра (для девушки)" },
            { "korean": "형제", "translation": "братья" },
            { "korean": "친구", "translation": "друг" },
            { "korean": "동료", "translation": "коллега" },
            { "korean": "이웃", "translation": "сосед" },
            { "korean": "선생님", "translation": "учитель" },
            { "korean": "교수", "translation": "профессор" },
            { "korean": "직원", "translation": "сотрудник" },
            { "korean": "사장", "translation": "президент компании" },
            { "korean": "손님", "translation": "гость" },
            { "korean": "주인공", "translation": "главный герой" }
        ]
    },
    {
        "id": 8,
        "title": "место и пространство",
        "count": 20,
        "words": [
            { "korean": "집", "translation": "дом" },
            { "korean": "방", "translation": "комната" },
            { "korean": "거실", "translation": "гостиная" },
            { "korean": "주방", "translation": "кухня" },
            { "korean": "현관", "translation": "прихожая, вход" },
            { "korean": "학교", "translation": "школа" },
            { "korean": "고등학교", "translation": "старшая школа" },
            { "korean": "대학교", "translation": "университет" },
            { "korean": "교실", "translation": "класс (комната)" },
            { "korean": "회사", "translation": "компания" },
            { "korean": "공원", "translation": "парк" },
            { "korean": "정원", "translation": "сад" },
            { "korean": "도시", "translation": "город" },
            { "korean": "나라", "translation": "страна" },
            { "korean": "산", "translation": "гора" },
            { "korean": "하늘", "translation": "небо" },
            { "korean": "바다", "translation": "море" },
            { "korean": "해변", "translation": "пляж" },
            { "korean": "세상", "translation": "мир" },
            { "korean": "지구", "translation": "Земля" }
        ]
    },
    {
        "id": 9,
        "title": "время и периоды",
        "count": 15,
        "words": [
            { "korean": "시간", "translation": "время" },
            { "korean": "날", "translation": "день (дата)" },
            { "korean": "하루", "translation": "день (сутки)" },
            { "korean": "아침", "translation": "утро" },
            { "korean": "점심", "translation": "обед, полдень" },
            { "korean": "저녁", "translation": "вечер, ужин" },
            { "korean": "밤", "translation": "ночь" },
            { "korean": "주", "translation": "неделя" },
            { "korean": "주말", "translation": "выходные" },
            { "korean": "달", "translation": "месяц" },
            { "korean": "해", "translation": "год; солнце" },
            { "korean": "과거", "translation": "прошлое" },
            { "korean": "현재", "translation": "настоящее" },
            { "korean": "미래", "translation": "будущее" },
            { "korean": "순간", "translation": "момент" }
        ]
    },
    {
        "id": 10,
        "title": "природа и явления",
        "count": 18,
        "words": [
            { "korean": "태양", "translation": "солнце" },
            { "korean": "달", "translation": "луна" },
            { "korean": "별", "translation": "звезда" },
            { "korean": "구름", "translation": "облако" },
            { "korean": "비", "translation": "дождь" },
            { "korean": "눈", "translation": "снег" },
            { "korean": "바람", "translation": "ветер" },
            { "korean": "불", "translation": "огонь" },
            { "korean": "물", "translation": "вода" },
            { "korean": "땅", "translation": "земля" },
            { "korean": "나무", "translation": "дерево" },
            { "korean": "꽃", "translation": "цветок" },
            { "korean": "풀", "translation": "трава" },
            { "korean": "새", "translation": "птица" },
            { "korean": "개", "translation": "собака" },
            { "korean": "고양이", "translation": "кошка" },
            { "korean": "토끼", "translation": "кролик" },
            { "korean": "물고기", "translation": "рыба" }
        ]
    },
    {
        "id": 11,
        "title": "предметы и вещи",
        "count": 20,
        "words": [
            { "korean": "책", "translation": "книга" },
            { "korean": "책상", "translation": "письменный стол" },
            { "korean": "의자", "translation": "стул" },
            { "korean": "탁자", "translation": "стол" },
            { "korean": "테이블", "translation": "стол" },
            { "korean": "침대", "translation": "кровать" },
            { "korean": "문", "translation": "дверь" },
            { "korean": "창문", "translation": "окно" },
            { "korean": "전화", "translation": "телефон" },
            { "korean": "텔레비전", "translation": "телевизор" },
            { "korean": "컴퓨터", "translation": "компьютер" },
            { "korean": "옷", "translation": "одежда" },
            { "korean": "신발", "translation": "обувь" },
            { "korean": "가방", "translation": "сумка" },
            { "korean": "차", "translation": "автомобиль, чай" },
            { "korean": "커피", "translation": "кофе" },
            { "korean": "음식", "translation": "еда" },
            { "korean": "밥", "translation": "рис, еда" },
            { "korean": "물", "translation": "вода" },
            { "korean": "선물", "translation": "подарок" }
        ]
    },
    {
        "id": 12,
        "title": "прилагательные (описательные глаголы)",
        "count": 25,
        "words": [
            { "korean": "좋다", "translation": "быть хорошим" },
            { "korean": "나쁘다", "translation": "быть плохим" },
            { "korean": "크다", "translation": "быть большим" },
            { "korean": "작다", "translation": "быть маленьким" },
            { "korean": "길다", "translation": "быть длинным" },
            { "korean": "짧다", "translation": "быть коротким" },
            { "korean": "높다", "translation": "быть высоким" },
            { "korean": "낮다", "translation": "быть низким" },
            { "korean": "넓다", "translation": "быть широким" },
            { "korean": "좁다", "translation": "быть узким" },
            { "korean": "무겁다", "translation": "быть тяжелым" },
            { "korean": "가볍다", "translation": "быть легким" },
            { "korean": "빠르다", "translation": "быть быстрым" },
            { "korean": "느리다", "translation": "быть медленным" },
            { "korean": "뜨겁다", "translation": "быть горячим" },
            { "korean": "차갑다", "translation": "быть холодным" },
            { "korean": "따뜻하다", "translation": "быть теплым" },
            { "korean": "시원하다", "translation": "быть прохладным" },
            { "korean": "맛있다", "translation": "быть вкусным" },
            { "korean": "맛없다", "translation": "быть невкусным" },
            { "korean": "아름답다", "translation": "быть красивым" },
            { "korean": "예쁘다", "translation": "быть красивым, милым" },
            { "korean": "귀엽다", "translation": "быть милым" },
            { "korean": "깨끗하다", "translation": "быть чистым" },
            { "korean": "더럽다", "translation": "быть грязным" }
        ]
    },
    {
        "id": 13,
        "title": "абстрактные существительные",
        "count": 18,
        "words": [
            { "korean": "사랑", "translation": "любовь" },
            { "korean": "행복", "translation": "счастье" },
            { "korean": "기쁨", "translation": "радость" },
            { "korean": "슬픔", "translation": "печаль" },
            { "korean": "화", "translation": "гнев" },
            { "korean": "두려움", "translation": "страх" },
            { "korean": "희망", "translation": "надежда" },
            { "korean": "꿈", "translation": "мечта, сон" },
            { "korean": "성공", "translation": "успех" },
            { "korean": "실패", "translation": "неудача" },
            { "korean": "운", "translation": "удача" },
            { "korean": "인생", "translation": "жизнь" },
            { "korean": "삶", "translation": "жизнь" },
            { "korean": "죽음", "translation": "смерть" },
            { "korean": "자유", "translation": "свобода" },
            { "korean": "평화", "translation": "мир" },
            { "korean": "진리", "translation": "истина" },
            { "korean": "아름다움", "translation": "красота" }
        ]
    }
];

// Всего получилось:
// 13 категорий
// 249 слов (с учетом удаления дубликатов и добавления недостающих базовых слов для полноты категорий)

        const dictionary2Categories = [
    {
        "id": 1,
        "title": "действия и движения",
        "count": 39,
        "words": [
            { "korean": "가다", "translation": "идти" },
            { "korean": "가져가다", "translation": "забирать" },
            { "korean": "가져오다", "translation": "приносить" },
            { "korean": "감다", "translation": "закрывать (глаза)" },
            { "korean": "건너다", "translation": "переходить" },
            { "korean": "걸어가다", "translation": "идти пешком" },
            { "korean": "겪다", "translation": "испытывать" },
            { "korean": "고민하다", "translation": "размышлять" },
            { "korean": "공부하다", "translation": "учиться" },
            { "korean": "구하다", "translation": "спасать" },
            { "korean": "귀환하다", "translation": "возвращаться" },
            { "korean": "날다", "translation": "летать" },
            { "korean": "내려놓다", "translation": "опускать" },
            { "korean": "내리다", "translation": "спускаться" },
            { "korean": "다가가다", "translation": "приближаться" },
            { "korean": "다가오다", "translation": "приближаться" },
            { "korean": "달리다", "translation": "бежать" },
            { "korean": "닫다", "translation": "закрывать" },
            { "korean": "도달하다", "translation": "достигать" },
            { "korean": "돌아가다", "translation": "возвращаться" },
            { "korean": "돌아보다", "translation": "оглядываться" },
            { "korean": "들다", "translation": "поднимать" },
            { "korean": "들어가다", "translation": "входить" },
            { "korean": "들어오다", "translation": "входить" },
            { "korean": "떠나다", "translation": "уходить" },
            { "korean": "뚫다", "translation": "пробивать" },
            { "korean": "마주치다", "translation": "сталкиваться" },
            { "korean": "막다", "translation": "блокировать" },
            { "korean": "만지다", "translation": "трогать" },
            { "korean": "멈추다", "translation": "останавливаться" },
            { "korean": "물리치다", "translation": "побеждать" },
            { "korean": "밀다", "translation": "толкать" },
            { "korean": "버리다", "translation": "бросать" },
            { "korean": "불다", "translation": "дуть" },
            { "korean": "붙잡다", "translation": "хватать" },
            { "korean": "붙이다", "translation": "прикреплять" },
            { "korean": "살피다", "translation": "осматривать" },
            { "korean": "쌓다", "translation": "накапливать" },
            { "korean": "오르다", "translation": "подниматься" }
        ]
    },
    {
        "id": 2,
        "title": "чувства, эмоции и мысли",
        "count": 34,
        "words": [
            { "korean": "감동하다", "translation": "быть тронутым" },
            { "korean": "감사하다", "translation": "благодарить" },
            { "korean": "걱정하다", "translation": "беспокоиться" },
            { "korean": "고백하다", "translation": "признаваться" },
            { "korean": "기대하다", "translation": "ожидать" },
            { "korean": "기억하다", "translation": "помнить" },
            { "korean": "기쁘다", "translation": "радоваться" },
            { "korean": "깨닫다", "translation": "осознавать" },
            { "korean": "느끼다", "translation": "чувствовать" },
            { "korean": "두려워하다", "translation": "бояться" },
            { "korean": "믿다", "translation": "верить" },
            { "korean": "무시하다", "translation": "игнорировать" },
            { "korean": "반성하다", "translation": "раскаиваться" },
            { "korean": "부러워하다", "translation": "завидовать" },
            { "korean": "부탁하다", "translation": "просить" },
            { "korean": "사랑하다", "translation": "любить" },
            { "korean": "상상하다", "translation": "воображать" },
            { "korean": "생각하다", "translation": "думать" },
            { "korean": "성공하다", "translation": "преуспевать" },
            { "korean": "슬퍼하다", "translation": "грустить" },
            { "korean": "신기해하다", "translation": "удивляться" },
            { "korean": "실망하다", "translation": "разочаровываться" },
            { "korean": "싫어하다", "translation": "не любить" },
            { "korean": "약속하다", "translation": "обещать" },
            { "korean": "염려하다", "translation": "беспокоиться" },
            { "korean": "우려하다", "translation": "опасаться" },
            { "korean": "원하다", "translation": "желать" },
            { "korean": "위로하다", "translation": "утешать" },
            { "korean": "즐기다", "translation": "наслаждаться" },
            { "korean": "지루해하다", "translation": "скучать" },
            { "korean": "질투하다", "translation": "ревновать" },
            { "korean": "짜증내다", "translation": "раздражаться" },
            { "korean": "충격받다", "translation": "быть в шоке" },
            { "korean": "희망하다", "translation": "надеяться" }
        ]
    },
    {
        "id": 3,
        "title": "общение и речь",
        "count": 28,
        "words": [
            { "korean": "가르치다", "translation": "учить" },
            { "korean": "경고하다", "translation": "предупреждать" },
            { "korean": "대답하다", "translation": "отвечать" },
            { "korean": "대화하다", "translation": "разговаривать" },
            { "korean": "말하다", "translation": "говорить" },
            { "korean": "물어보다", "translation": "спрашивать" },
            { "korean": "부르다", "translation": "звать" },
            { "korean": "설명하다", "translation": "объяснять" },
            { "korean": "속삭이다", "translation": "шептать" },
            { "korean": "알리다", "translation": "сообщать" },
            { "korean": "읊다", "translation": "декламировать" },
            { "korean": "읽다", "translation": "читать" },
            { "korean": "작성하다", "translation": "составлять" },
            { "korean": "전달하다", "translation": "передавать" },
            { "korean": "전화하다", "translation": "звонить" },
            { "korean": "제안하다", "translation": "предлагать" },
            { "korean": "조언하다", "translation": "советовать" },
            { "korean": "주장하다", "translation": "утверждать" },
            { "korean": "지시하다", "translation": "приказывать" },
            { "korean": "질문하다", "translation": "спрашивать" },
            { "korean": "찬성하다", "translation": "соглашаться" },
            { "korean": "청하다", "translation": "просить" },
            { "korean": "초대하다", "translation": "приглашать" },
            { "korean": "편지쓰다", "translation": "писать письмо" },
            { "korean": "한마디하다", "translation": "вставить слово" },
            { "korean": "항의하다", "translation": "протестовать" },
            { "korean": "호소하다", "translation": "взывать" },
            { "korean": "확인하다", "translation": "проверять" }
        ]
    },
    {
        "id": 4,
        "title": "природа и окружающая среда",
        "count": 35,
        "words": [
            { "korean": "강", "translation": "река" },
            { "korean": "계곡", "translation": "долина" },
            { "korean": "구름", "translation": "облако" },
            { "korean": "굴", "translation": "пещера" },
            { "korean": "나무", "translation": "дерево" },
            { "korean": "낙엽", "translation": "осенние листья" },
            { "korean": "달", "translation": "луна" },
            { "korean": "달빛", "translation": "лунный свет" },
            { "korean": "대지", "translation": "земля" },
            { "korean": "동굴", "translation": "пещера" },
            { "korean": "들", "translation": "поля" },
            { "korean": "모래", "translation": "песок" },
            { "korean": "물", "translation": "вода" },
            { "korean": "바다", "translation": "море" },
            { "korean": "바람", "translation": "ветер" },
            { "korean": "바위", "translation": "скала" },
            { "korean": "별", "translation": "звезда" },
            { "korean": "빛", "translation": "свет" },
            { "korean": "산", "translation": "гора" },
            { "korean": "새", "translation": "птица" },
            { "korean": "섬", "translation": "остров" },
            { "korean": "소나기", "translation": "ливень" },
            { "korean": "숲", "translation": "лес" },
            { "korean": "얼음", "translation": "лёд" },
            { "korean": "오염", "translation": "загрязнение" },
            { "korean": "우주", "translation": "космос" },
            { "korean": "운하", "translation": "канал" },
            { "korean": "자연", "translation": "природа" },
            { "korean": "작은샘", "translation": "родник" },
            { "korean": "폭포", "translation": "водопад" },
            { "korean": "풀", "translation": "трава" },
            { "korean": "하늘", "translation": "небо" },
            { "korean": "해", "translation": "солнце" },
            { "korean": "해안", "translation": "побережье" },
            { "korean": "호수", "translation": "озеро" }
        ]
    },
    {
        "id": 5,
        "title": "человек и общество",
        "count": 39,
        "words": [
            { "korean": "가족", "translation": "семья" },
            { "korean": "과학자", "translation": "учёный" },
            { "korean": "국가", "translation": "государство" },
            { "korean": "국왕", "translation": "король" },
            { "korean": "군대", "translation": "армия" },
            { "korean": "기사", "translation": "рыцарь" },
            { "korean": "도둑", "translation": "вор" },
            { "korean": "동료", "translation": "коллега" },
            { "korean": "마법사", "translation": "маг" },
            { "korean": "명", "translation": "человек" },
            { "korean": "무리", "translation": "группа" },
            { "korean": "문화", "translation": "культура" },
            { "korean": "민족", "translation": "народность" },
            { "korean": "부모", "translation": "родители" },
            { "korean": "사회", "translation": "общество" },
            { "korean": "선생님", "translation": "учитель" },
            { "korean": "소녀", "translation": "девочка" },
            { "korean": "소년", "translation": "мальчик" },
            { "korean": "손자", "translation": "внук" },
            { "korean": "시민", "translation": "гражданин" },
            { "korean": "아가씨", "translation": "девушка" },
            { "korean": "아들", "translation": "сын" },
            { "korean": "아버지", "translation": "отец" },
            { "korean": "아이", "translation": "ребёнок" },
            { "korean": "여동생", "translation": "младшая сестра" },
            { "korean": "왕", "translation": "король" },
            { "korean": "왕국", "translation": "королевство" },
            { "korean": "왕자", "translation": "принц" },
            { "korean": "용", "translation": "дракон" },
            { "korean": "우리", "translation": "мы" },
            { "korean": "인간", "translation": "человек" },
            { "korean": "일반인", "translation": "обычный человек" },
            { "korean": "자신", "translation": "сам себя" },
            { "korean": "전사", "translation": "воин" },
            { "korean": "정치인", "translation": "политик" },
            { "korean": "친구", "translation": "друг" },
            { "korean": "탐험가", "translation": "исследователь" },
            { "korean": "형", "translation": "старший брат" },
            { "korean": "희생자", "translation": "жертва" }
        ]
    },
    {
        "id": 6,
        "title": "места и сооружения",
        "count": 25,
        "words": [
            { "korean": "가게", "translation": "магазин" },
            { "korean": "건물", "translation": "здание" },
            { "korean": "공원", "translation": "парк" },
            { "korean": "기차역", "translation": "вокзал" },
            { "korean": "도서관", "translation": "библиотека" },
            { "korean": "도시", "translation": "город" },
            { "korean": "마을", "translation": "деревня" },
            { "korean": "무덤", "translation": "могила" },
            { "korean": "방", "translation": "комната" },
            { "korean": "복도", "translation": "коридор" },
            { "korean": "비행장", "translation": "аэропорт" },
            { "korean": "상점", "translation": "магазин" },
            { "korean": "서점", "translation": "книжный магазин" },
            { "korean": "성", "translation": "замок" },
            { "korean": "시장", "translation": "рынок" },
            { "korean": "신전", "translation": "храм" },
            { "korean": "역사", "translation": "история" },
            { "korean": "연구소", "translation": "институт" },
            { "korean": "유적", "translation": "руины" },
            { "korean": "정원", "translation": "сад" },
            { "korean": "주방", "translation": "кухня" },
            { "korean": "집", "translation": "дом" },
            { "korean": "창고", "translation": "склад" },
            { "korean": "학교", "translation": "школа" },
            { "korean": "호텔", "translation": "гостиница" }
        ]
    },
    {
        "id": 7,
        "title": "характеристики и качества",
        "count": 32,
        "words": [
            { "korean": "가까운", "translation": "близкий" },
            { "korean": "강하다", "translation": "сильный" },
            { "korean": "거대하다", "translation": "огромный" },
            { "korean": "검다", "translation": "чёрный" },
            { "korean": "고요하다", "translation": "тихий" },
            { "korean": "굳건하다", "translation": "прочный" },
            { "korean": "기쁜", "translation": "радостный" },
            { "korean": "깊은", "translation": "глубокий" },
            { "korean": "날카로운", "translation": "острый" },
            { "korean": "높다", "translation": "высокий" },
            { "korean": "다양하다", "translation": "разнообразный" },
            { "korean": "단순하다", "translation": "простой" },
            { "korean": "단호하다", "translation": "решительный" },
            { "korean": "둥근", "translation": "круглый" },
            { "korean": "뜨겁다", "translation": "горячий" },
            { "korean": "맑다", "translation": "ясный" },
            { "korean": "먼", "translation": "далёкий" },
            { "korean": "무겁다", "translation": "тяжёлый" },
            { "korean": "무섭다", "translation": "страшный" },
            { "korean": "밝다", "translation": "светлый" },
            { "korean": "부드럽다", "translation": "мягкий" },
            { "korean": "빠르다", "translation": "быстрый" },
            { "korean": "아름답다", "translation": "красивый" },
            { "korean": "약하다", "translation": "слабый" },
            { "korean": "어둡다", "translation": "тёмный" },
            { "korean": "예쁘다", "translation": "красивый" },
            { "korean": "위험하다", "translation": "опасный" },
            { "korean": "작다", "translation": "маленький" },
            { "korean": "적다", "translation": "мало" },
            { "korean": "좋다", "translation": "хороший" },
            { "korean": "크다", "translation": "большой" },
            { "korean": "튼튼하다", "translation": "крепкий" }
        ]
    },
    {
        "id": 8,
        "title": "абстрактные понятия",
        "count": 45,
        "words": [
            { "korean": "가치", "translation": "ценность" },
            { "korean": "감정", "translation": "чувство" },
            { "korean": "건강", "translation": "здоровье" },
            { "korean": "결심", "translation": "решение" },
            { "korean": "결정", "translation": "решение" },
            { "korean": "겁", "translation": "испуг" },
            { "korean": "경고", "translation": "предупреждение" },
            { "korean": "경험", "translation": "опыт" },
            { "korean": "계획", "translation": "план" },
            { "korean": "고대", "translation": "древность" },
            { "korean": "과거", "translation": "прошлое" },
            { "korean": "과학", "translation": "наука" },
            { "korean": "교육", "translation": "образование" },
            { "korean": "권력", "translation": "власть" },
            { "korean": "기록", "translation": "запись" },
            { "korean": "기대", "translation": "ожидание" },
            { "korean": "기억", "translation": "память" },
            { "korean": "기회", "translation": "возможность" },
            { "korean": "기쁨", "translation": "радость" },
            { "korean": "깊이", "translation": "глубина" },
            { "korean": "끝", "translation": "конец" },
            { "korean": "노력", "translation": "усилие" },
            { "korean": "능력", "translation": "способность" },
            { "korean": "다음", "translation": "следующий" },
            { "korean": "대화", "translation": "разговор" },
            { "korean": "도움", "translation": "помощь" },
            { "korean": "도전", "translation": "вызов" },
            { "korean": "뜻", "translation": "значение" },
            { "korean": "마법", "translation": "магия" },
            { "korean": "문제", "translation": "проблема" },
            { "korean": "미래", "translation": "будущее" },
            { "korean": "미스터리", "translation": "тайна" },
            { "korean": "법", "translation": "закон" },
            { "korean": "복잡함", "translation": "сложность" },
            { "korean": "비밀", "translation": "секрет" },
            { "korean": "사랑", "translation": "любовь" },
            { "korean": "선택", "translation": "выбор" },
            { "korean": "성공", "translation": "успех" },
            { "korean": "시간", "translation": "время" },
            { "korean": "실력", "translation": "способность" },
            { "korean": "어려움", "translation": "трудность" },
            { "korean": "우정", "translation": "дружба" },
            { "korean": "이상", "translation": "идеал" },
            { "korean": "자유", "translation": "свобода" },
            { "korean": "행복", "translation": "счастье" }
        ]
    },
    {
        "id": 9,
        "title": "объекты и вещи",
        "count": 33,
        "words": [
            { "korean": "거울", "translation": "зеркало" },
            { "korean": "것", "translation": "вещь" },
            { "korean": "그림", "translation": "рисунок" },
            { "korean": "그림자", "translation": "тень" },
            { "korean": "기계", "translation": "машина" },
            { "korean": "돈", "translation": "деньги" },
            { "korean": "돌", "translation": "камень" },
            { "korean": "등대", "translation": "маяк" },
            { "korean": "문", "translation": "дверь" },
            { "korean": "물건", "translation": "вещь" },
            { "korean": "물체", "translation": "объект" },
            { "korean": "미소", "translation": "улыбка" },
            { "korean": "보물", "translation": "сокровище" },
            { "korean": "복원", "translation": "восстановление" },
            { "korean": "상자", "translation": "коробка" },
            { "korean": "색", "translation": "цвет" },
            { "korean": "소리", "translation": "звук" },
            { "korean": "소포", "translation": "посылка" },
            { "korean": "쇠", "translation": "железо" },
            { "korean": "시계", "translation": "часы" },
            { "korean": "신호", "translation": "сигнал" },
            { "korean": "액자", "translation": "рамка" },
            { "korean": "열쇠", "translation": "ключ" },
            { "korean": "옷", "translation": "одежда" },
            { "korean": "의자", "translation": "стул" },
            { "korean": "자동차", "translation": "автомобиль" },
            { "korean": "장난감", "translation": "игрушка" },
            { "korean": "책", "translation": "книга" },
            { "korean": "책상", "translation": "письменный стол" },
            { "korean": "칼", "translation": "нож" },
            { "korean": "테이블", "translation": "стол" },
            { "korean": "편지", "translation": "письмо" },
            { "korean": "화살", "translation": "стрела" }
        ]
    },
    {
        "id": 10,
        "title": "тело и здоровье",
        "count": 21,
        "words": [
            { "korean": "눈", "translation": "глаз" },
            { "korean": "등", "translation": "спина" },
            { "korean": "머리", "translation": "голова" },
            { "korean": "목", "translation": "шея" },
            { "korean": "몸", "translation": "тело" },
            { "korean": "발", "translation": "нога" },
            { "korean": "배", "translation": "живот" },
            { "korean": "병", "translation": "болезнь" },
            { "korean": "상처", "translation": "рана" },
            { "korean": "살", "translation": "плоть" },
            { "korean": "손", "translation": "рука" },
            { "korean": "심장", "translation": "сердце" },
            { "korean": "얼굴", "translation": "лицо" },
            { "korean": "입", "translation": "рот" },
            { "korean": "잔", "translation": "стакан" },
            { "korean": "전신", "translation": "всё тело" },
            { "korean": "청력", "translation": "слух" },
            { "korean": "피", "translation": "кровь" },
            { "korean": "혈액", "translation": "кровь" },
            { "korean": "힘", "translation": "сила" },
            { "korean": "힘줄", "translation": "сухожилие" }
        ]
    },
    {
        "id": 11,
        "title": "время и пространство",
        "count": 26,
        "words": [
            { "korean": "가까이", "translation": "близко" },
            { "korean": "공간", "translation": "пространство" },
            { "korean": "길", "translation": "дорога" },
            { "korean": "낮", "translation": "день" },
            { "korean": "내일", "translation": "завтра" },
            { "korean": "다음주", "translation": "следующая неделя" },
            { "korean": "도로", "translation": "дорога" },
            { "korean": "때", "translation": "время" },
            { "korean": "마침내", "translation": "наконец" },
            { "korean": "며칠", "translation": "несколько дней" },
            { "korean": "밤", "translation": "ночь" },
            { "korean": "벌써", "translation": "уже" },
            { "korean": "빨리", "translation": "быстро" },
            { "korean": "서서히", "translation": "постепенно" },
            { "korean": "순간", "translation": "момент" },
            { "korean": "시작", "translation": "начало" },
            { "korean": "언제", "translation": "когда" },
            { "korean": "어제", "translation": "вчера" },
            { "korean": "여기", "translation": "здесь" },
            { "korean": "오늘", "translation": "сегодня" },
            { "korean": "오후", "translation": "послеобеденное время" },
            { "korean": "이번", "translation": "этот раз" },
            { "korean": "저녁", "translation": "вечер" },
            { "korean": "점점", "translation": "постепенно" },
            { "korean": "지금", "translation": "сейчас" },
            { "korean": "항상", "translation": "всегда" }
        ]
    },
    {
        "id": 12,
        "title": "обучение и знания",
        "count": 24,
        "words": [
            { "korean": "공부", "translation": "учёба" },
            { "korean": "교과서", "translation": "учебник" },
            { "korean": "교육자", "translation": "педагог" },
            { "korean": "기술", "translation": "технология" },
            { "korean": "도서", "translation": "книги" },
            { "korean": "문장", "translation": "предложение" },
            { "korean": "문제집", "translation": "задачник" },
            { "korean": "배움", "translation": "учение" },
            { "korean": "복습", "translation": "повторение" },
            { "korean": "수업", "translation": "урок" },
            { "korean": "시험", "translation": "экзамен" },
            { "korean": "알아차림", "translation": "осознание" },
            { "korean": "어휘", "translation": "словарный запас" },
            { "korean": "언어", "translation": "язык" },
            { "korean": "연습", "translation": "практика" },
            { "korean": "예습", "translation": "предварительное изучение" },
            { "korean": "지식", "translation": "знание" },
            { "korean": "진도", "translation": "прогресс" },
            { "korean": "집중", "translation": "концентрация" },
            { "korean": "책읽기", "translation": "чтение книг" },
            { "korean": "학생", "translation": "студент" },
            { "korean": "학습", "translation": "обучение" },
            { "korean": "학교생활", "translation": "школьная жизнь" },
            { "korean": "훈련", "translation": "тренировка" }
        ]
    },
    {
        "id": 13,
        "title": "еда и напитки",
        "count": 15,
        "words": [
            { "korean": "간식", "translation": "закуска" },
            { "korean": "과일", "translation": "фрукты" },
            { "korean": "김치", "translation": "кимчи" },
            { "korean": "맛", "translation": "вкус" },
            { "korean": "먹다", "translation": "есть" },
            { "korean": "물마시다", "translation": "пить воду" },
            { "korean": "밥", "translation": "рис" },
            { "korean": "빵", "translation": "хлеб" },
            { "korean": "사과", "translation": "яблоко" },
            { "korean": "식사", "translation": "приём пищи" },
            { "korean": "음료수", "translation": "напиток" },
            { "korean": "음식", "translation": "еда" },
            { "korean": "주스", "translation": "сок" },
            { "korean": "차", "translation": "чай" },
            { "korean": "커피", "translation": "кофе" }
        ]
    },
    {
        "id": 14,
        "title": "цвета и материалы",
        "count": 18,
        "words": [
            { "korean": "갈색", "translation": "коричневый" },
            { "korean": "금", "translation": "золото" },
            { "korean": "녹색", "translation": "зелёный" },
            { "korean": "다이아몬드", "translation": "алмаз" },
            { "korean": "동", "translation": "медь" },
            { "korean": "빨간색", "translation": "красный" },
            { "korean": "은", "translation": "серебро" },
            { "korean": "자주색", "translation": "фиолетовый" },
            { "korean": "점토", "translation": "глина" },
            { "korean": "청동", "translation": "бронза" },
            { "korean": "파란색", "translation": "синий" },
            { "korean": "페인트", "translation": "краска" },
            { "korean": "하얀색", "translation": "белый" },
            { "korean": "황금", "translation": "золото" },
            { "korean": "회색", "translation": "серый" },
            { "korean": "흑요석", "translation": "обсидиан" },
            { "korean": "흰색", "translation": "белый цвет" },
            { "korean": "희미한빛", "translation": "тусклый свет" }
        ]
    },
    {
        "id": 15,
        "title": "Служебные слова и частицы",
        "count": 26,
        "words": [
            
            { "korean": "~도", "translation": "тоже" },
            { "korean": "~만", "translation": "только" },
            { "korean": "~부터", "translation": "с, от" },
            { "korean": "~까지", "translation": "до" },
            { "korean": "~처럼", "translation": "как, подобно" },
            { "korean": "가끔", "translation": "иногда" },
            { "korean": "계속", "translation": "продолжая" },
            { "korean": "그리고", "translation": "и" },
            { "korean": "그러나", "translation": "но" },
            { "korean": "그래서", "translation": "поэтому" },
            { "korean": "그럼", "translation": "тогда" },
            { "korean": "너무", "translation": "слишком" },
            { "korean": "다시", "translation": "снова" },
            { "korean": "더", "translation": "более" },
            { "korean": "매우", "translation": "очень" },
            { "korean": "모두", "translation": "все" },
            { "korean": "빨리", "translation": "быстро" },
            { "korean": "아니", "translation": "нет" },
            { "korean": "아직", "translation": "ещё" },
            { "korean": "완전히", "translation": "полностью" },
            { "korean": "왜", "translation": "почему" },
            { "korean": "이미", "translation": "уже" },
            { "korean": "정말", "translation": "правда" },
            { "korean": "혹시", "translation": "случайно" }
        ]
    }
];



// Глобальные переменные
let currentDictionaryType = 0; // 1 или 2
let currentCategoryIndex = 0;
let currentWordIndex = 0;
let speechSynthesisSupported = false;
let isFlipped = false;
let currentWords = [];

// Функция для создания анимированных букв на фоне
function createBackgroundLetters() {
    const container = document.getElementById('background-letters');
    if (!container) return;
    
    container.innerHTML = '';
    
    for (let i = 0; i < 25; i++) {
        const letter = document.createElement('div');
        letter.className = 'korean-letter';
        
        const randomLetter = koreanLetters[Math.floor(Math.random() * koreanLetters.length)];
        letter.textContent = randomLetter;
        
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        const delay = Math.random() * 15;
        
        letter.style.left = `${left}%`;
        letter.style.top = `${top}%`;
        letter.style.animationDelay = `${delay}s`;
        letter.style.fontSize = `${30 + Math.random() * 40}px`;
        letter.style.transform += ` rotate(${Math.random() * 20 - 10}deg)`;
        
        container.appendChild(letter);
    }
}

// Проверяем поддержку синтеза речи
function checkSpeechSupport() {
    if ('speechSynthesis' in window) {
        speechSynthesisSupported = true;
    } else {
        document.querySelectorAll('.audio-icon').forEach(icon => {
            if (icon) icon.style.display = 'none';
        });
    }
}

// Открытие словаря (1 или 2)
function openDictionarySection(dictionaryType) {
    currentDictionaryType = dictionaryType;
    
    // Скрываем стартовые секции
    const startContainer = document.getElementById('startSectionsContainer');
    const backToSections = document.getElementById('backToSections');
    const categoriesContainer = document.getElementById('categoriesContainer');
    
    if (!startContainer || !backToSections || !categoriesContainer) return;
    
    startContainer.style.display = 'none';
    backToSections.classList.add('active');
    
    // Показываем контейнер категорий
    categoriesContainer.classList.add('active');
    categoriesContainer.innerHTML = '';
    
    // Выбираем категории в зависимости от словаря
    const categories = dictionaryType === 1 ? dictionary1Categories : dictionary2Categories;
    
    // Рендерим категории
    categories.forEach((category, index) => {
        const card = document.createElement('div');
        card.className = 'category-card';
        card.innerHTML = `
            <div class="category-title">${category.title}</div>
            <div class="category-count">${category.count} слов</div>
        `;
        card.addEventListener('click', () => enterCategory(index));
        categoriesContainer.appendChild(card);
    });
}

// Вход в категорию
function enterCategory(categoryIndex) {
    currentCategoryIndex = categoryIndex;
    
    // Выбираем категории в зависимости от активного словаря
    const categories = currentDictionaryType === 1 ? dictionary1Categories : dictionary2Categories;
    
    if (categories[categoryIndex] && categories[categoryIndex].words) {
        currentWords = categories[categoryIndex].words;
        currentWordIndex = 0;
        
        // Скрываем контейнер категорий
        const categoriesContainer = document.getElementById('categoriesContainer');
        const flashcardSection = document.getElementById('flashcardSection');
        const backToCategories = document.getElementById('backToCategories');
        
        if (!categoriesContainer || !flashcardSection || !backToCategories) return;
        
        categoriesContainer.classList.remove('active');
        
        // Показываем флеш-карточки
        flashcardSection.classList.add('active');
        backToCategories.classList.add('active');
        
        updateWord();
    }
}

// Возврат к списку категорий
function backToCategoriesList() {
    const flashcardSection = document.getElementById('flashcardSection');
    const backToCategories = document.getElementById('backToCategories');
    const categoriesContainer = document.getElementById('categoriesContainer');
    
    if (!flashcardSection || !backToCategories || !categoriesContainer) return;
    
    flashcardSection.classList.remove('active');
    backToCategories.classList.remove('active');
    categoriesContainer.classList.add('active');
    
    // Сброс состояния карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Возврат к выбору словарей
function backToStartSections() {
    const categoriesContainer = document.getElementById('categoriesContainer');
    const backToSections = document.getElementById('backToSections');
    const startContainer = document.getElementById('startSectionsContainer');
    
    if (!categoriesContainer || !backToSections || !startContainer) return;
    
    categoriesContainer.classList.remove('active');
    backToSections.classList.remove('active');
    startContainer.style.display = 'flex';
    
    // Сброс состояния карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Обновление слова на карточке
function updateWord() {
    const koreanWordElement = document.getElementById("korean-word");
    const russianWordElement = document.getElementById("russian-word");
    const progressIndicators = document.querySelectorAll('.progress-indicator');
    
    if (!koreanWordElement || !russianWordElement) return;
    
    if (currentWords.length > 0 && currentWordIndex < currentWords.length) {
        const word = currentWords[currentWordIndex];
        
        // Корейское слово на передней стороне
        koreanWordElement.textContent = word.korean;
        
        // Русский перевод на обратной стороне
        russianWordElement.textContent = word.translation;

        // Прогресс
        const progressText = `${currentWordIndex + 1} / ${currentWords.length}`;
        progressIndicators.forEach(el => {
            el.textContent = progressText;
        });
    } else {
        koreanWordElement.textContent = "단어 없음";
        russianWordElement.textContent = "Нет слов";
        progressIndicators.forEach(el => {
            el.textContent = "0 / 0";
        });
    }

    // Сброс переворота карточки
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.classList.remove("flipped");
        isFlipped = false;
    }
}

// Переход к следующему слову
function nextWord() {
    if (currentWords.length === 0) return;

    currentWordIndex = (currentWordIndex + 1) % currentWords.length;
    updateWord();
}

// Переход к предыдущему слову
function previousWord() {
    if (currentWords.length === 0) return;

    currentWordIndex = (currentWordIndex - 1 + currentWords.length) % currentWords.length;
    updateWord();
}

// Перелистывание карточки
function flipCard() {
    const flashcard = document.getElementById("flashcard");
    if (!flashcard) return;
    
    isFlipped = !isFlipped;
    flashcard.classList.toggle("flipped");
    
    // Скрываем/показываем аудио-иконку в зависимости от стороны
    const audioIcon = document.querySelector('.audio-icon');
    if (audioIcon) {
        if (isFlipped) {
            audioIcon.style.display = 'none';
        } else {
            audioIcon.style.display = 'flex';
        }
    }
}

// Функция для озвучивания корейского слова
function playKoreanAudio(event) {
    if (event && event.stopPropagation) {
        event.stopPropagation();
    }

    if (!speechSynthesisSupported || currentWords.length === 0) {
        return;
    }

    const word = currentWords[currentWordIndex];
    if (!word) return;

    const text = word.korean;

    if (text) {
        // Отменяем текущее воспроизведение
        speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'ko-KR';
        utterance.rate = 0.9;
        utterance.volume = 1.0;
        utterance.pitch = 1.0;

        // Получаем доступные голоса и выбираем корейский
        const voices = speechSynthesis.getVoices();
        const koreanVoice = voices.find(voice => 
            voice.lang === 'ko-KR' || 
            voice.lang.startsWith('ko') ||
            voice.name.includes('Korean')
        );
        
        if (koreanVoice) {
            utterance.voice = koreanVoice;
        }

        // Воспроизводим
        speechSynthesis.speak(utterance);
    }
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function () {
    createBackgroundLetters();
    checkSpeechSupport();
    
    if (speechSynthesisSupported) {
        speechSynthesis.onvoiceschanged = function() {
            // Голоса загружены
        };
    }
    
    // Бургер-меню
    const burgerMenu = document.getElementById("burgerMenu");
    const navBurger = document.getElementById("navBurger");
    
    if (burgerMenu && navBurger) {
        burgerMenu.addEventListener("click", function (event) {
            event.stopPropagation();
            navBurger.classList.toggle("active");
        });
        
        document.addEventListener("click", function (event) {
            if (!navBurger.contains(event.target) && !burgerMenu.contains(event.target)) {
                navBurger.classList.remove("active");
            }
        });
    }
    
    // Клик по карточке для перелистывания
    const flashcard = document.getElementById("flashcard");
    if (flashcard) {
        flashcard.addEventListener('click', (e) => {
            if (!e.target.closest('.audio-icon')) {
                flipCard();
            }
        });
    }
    
    // Обработка клавиатуры
    document.addEventListener('keydown', function (event) {
        switch (event.key) {
            case 'ArrowLeft':
                previousWord();
                break;
            case 'ArrowRight':
                nextWord();
                break;
            case ' ':
            case 'Spacebar':
                event.preventDefault();
                flipCard();
                break;
            case 'Enter':
                playKoreanAudio({ stopPropagation: () => { } });
                break;
            case 'Escape':
                const flashcardSection = document.getElementById('flashcardSection');
                if (flashcardSection && flashcardSection.classList.contains('active')) {
                    backToCategoriesList();
                }
                break;
        }
    });
});

// Обработчики свайпа для мобильных устройств
let touchStartX = 0;
let touchEndX = 0;
let touchStartY = 0;
let touchEndY = 0;

document.addEventListener('touchstart', (e) => {
    const flashcardSection = document.getElementById('flashcardSection');
    if (!flashcardSection || !flashcardSection.classList.contains('active')) return;
    
    touchStartX = e.changedTouches[0].screenX;
    touchStartY = e.changedTouches[0].screenY;
}, { passive: true });

document.addEventListener('touchend', (e) => {
    const flashcardSection = document.getElementById('flashcardSection');
    if (!flashcardSection || !flashcardSection.classList.contains('active')) return;
    
    touchEndX = e.changedTouches[0].screenX;
    touchEndY = e.changedTouches[0].screenY;
    handleSwipe();
}, { passive: true });

function handleSwipe() {
    const swipeThreshold = 50;
    const verticalSwipeThreshold = 30;

    if (Math.abs(touchEndY - touchStartY) < verticalSwipeThreshold) {
        if (touchEndX < touchStartX - swipeThreshold) {
            nextWord();
        } else if (touchEndX > touchStartX + swipeThreshold) {
            previousWord();
        }
    }
}

// Экспортируем функции в глобальную область видимости
window.openDictionarySection = openDictionarySection;
window.backToStartSections = backToStartSections;
window.backToCategoriesList = backToCategoriesList;
window.previousWord = previousWord;
window.nextWord = nextWord;
window.playKoreanAudio = playKoreanAudio;
    </script>
</body>
</html>
